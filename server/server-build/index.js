/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./Controllers/WebHooks/stripeWebhooks.js":
/*!************************************************!*\
  !*** ./Controllers/WebHooks/stripeWebhooks.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stripe */ \"stripe\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(stripe__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../middleware/checkAuthenticated.js */ \"./middleware/checkAuthenticated.js\");\n/* harmony import */ var _Models_product_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Models/product.js */ \"./Models/product.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _Models_order_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Models/order.js */ \"./Models/order.js\");\n/* harmony import */ var _Models_user_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Models/user.js */ \"./Models/user.js\");\n/* harmony import */ var _utils_nodemailer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/nodemailer.js */ \"./utils/nodemailer.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n\n\nvar stripe = stripe__WEBPACK_IMPORTED_MODULE_1___default()(process.env.STRIPE_KEY);\nvar CLIENT_URL = process.env.CLIENT_URL;\nvar stripeWebHooks = express_async_handler__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var event, _paymentIntent$metada, payment_intent, paymentIntent, orderNumber, userId, order, cartObj, productsArray, foundProducts, reduceStock, result, object, customer, paymentMethod, newPaymentMethodId, newPaymentMethodFingerPrint, allPaymentMethods, data, fingerPrintArray;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          event = req.body;\n          if (!(event.type == 'charge.succeeded')) {\n            _context2.next = 23;\n            break;\n          }\n          payment_intent = event.data.object.payment_intent;\n          _context2.next = 6;\n          return stripe.paymentIntents.retrieve(payment_intent);\n        case 6:\n          paymentIntent = _context2.sent;\n          orderNumber = (_paymentIntent$metada = paymentIntent.metadata) === null || _paymentIntent$metada === void 0 ? void 0 : _paymentIntent$metada.orderNumber;\n          userId = paymentIntent === null || paymentIntent === void 0 ? void 0 : paymentIntent.customer;\n          _context2.next = 11;\n          return _Models_order_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findById(orderNumber);\n        case 11:\n          order = _context2.sent;\n          cartObj = order === null || order === void 0 ? void 0 : order.cartObj;\n          productsArray = Object.keys(cartObj);\n          _context2.next = 16;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n            _id: {\n              $in: productsArray\n            }\n          });\n        case 16:\n          foundProducts = _context2.sent;\n          _context2.next = 19;\n          return foundProducts.map(function (productObject) {\n            var getCartVariationInfoArray = cartObj[productObject.id];\n            getCartVariationInfoArray.map(function (variationDetail) {\n              if (productObject !== null && productObject !== void 0 && productObject.variations) {\n                if (productObject.variations.length < 3) {\n                  var foundObj = {\n                    price: null,\n                    stock: null\n                  };\n                  var findOptionsforVariation1 = productObject.variations.find(function (item) {\n                    return item.name === variationDetail.variation1.title;\n                  });\n                  var findOptionsforVariation2 = productObject.variations.find(function (item) {\n                    return item.name === variationDetail.variation2.title;\n                  });\n                  var isStockChange = false;\n                  var foundVariations = [findOptionsforVariation1, findOptionsforVariation2].map(function (variation, index) {\n                    if (variation !== null && variation !== void 0 && variation.options) {\n                      var foundOptionVariation = variation.options.get(variationDetail[\"variation\".concat(index + 1)].id);\n                      if (foundOptionVariation !== null && foundOptionVariation !== void 0 && foundOptionVariation.stock) {\n                        variation.options.set(variationDetail[\"variation\".concat(index + 1)].id, _objectSpread(_objectSpread({}, foundOptionVariation), {}, {\n                          stock: foundOptionVariation.stock - variationDetail.quantity || 0\n                        }));\n                        isStockChange = true;\n                      }\n                    }\n                  });\n                  if (!isStockChange) {\n                    console.log('stock didnt change for product: ', productObject.title, variationDetail);\n                    productObject.stock = productObject.stock - variationDetail.quantity || 0;\n                  }\n                } else {\n                  var findOptionsforVariation = productObject.variations[2].options;\n                  if (findOptionsforVariation) {\n                    var _variationDetail$vari;\n                    var foundOptionVariation = findOptionsforVariation.get(variationDetail === null || variationDetail === void 0 || (_variationDetail$vari = variationDetail.variation2) === null || _variationDetail$vari === void 0 ? void 0 : _variationDetail$vari.id);\n                    if (foundOptionVariation) {\n                      var _variationDetail$vari2;\n                      productObject.variations[2].options.set(variationDetail === null || variationDetail === void 0 || (_variationDetail$vari2 = variationDetail.variation2) === null || _variationDetail$vari2 === void 0 ? void 0 : _variationDetail$vari2.id, _objectSpread(_objectSpread({}, foundOptionVariation), {}, {\n                        stock: foundOptionVariation.stock - variationDetail.quantity || 0\n                      }));\n                    } else {\n                      console.log('didnt find variation, may have been deleted');\n                    }\n                  }\n                }\n              }\n            });\n            return productObject.save();\n          });\n        case 19:\n          reduceStock = _context2.sent;\n          result = Promise.all(_toConsumableArray(reduceStock)).then( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(res) {\n              var updateOrder, updateUser, sendEmail;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _Models_order_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOneAndUpdate({\n                      _id: orderNumber\n                    }, {\n                      $unset: {\n                        cartObj: ''\n                      },\n                      $set: {\n                        status: 'received'\n                      }\n                    }, {\n                      \"new\": true\n                    });\n                  case 2:\n                    updateOrder = _context.sent;\n                    _context.next = 5;\n                    return _Models_user_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByIdAndUpdate(userId, {\n                      $push: {\n                        orders: orderNumber\n                      }\n                    }, {\n                      upsert: true\n                    });\n                  case 5:\n                    updateUser = _context.sent;\n                    _context.next = 8;\n                    return _utils_nodemailer_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].sendMail({\n                      from: 'kevinjean321@gmail.com',\n                      to: 'hotboyroyal@gmail.com',\n                      subject: 'test email',\n                      html: \"<p>this is a test email</p>\"\n                    });\n                  case 8:\n                    sendEmail = _context.sent;\n                  case 9:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x4) {\n              return _ref2.apply(this, arguments);\n            };\n          }())[\"catch\"](function (error) {\n            console.log(error);\n          });\n          res.status(200).send({\n            success: true\n          });\n          return _context2.abrupt(\"return\");\n        case 23:\n          if (!(event.type == 'setup_intent.succeeded')) {\n            _context2.next = 43;\n            break;\n          }\n          object = event.data.object;\n          customer = object.customer;\n          _context2.next = 28;\n          return stripe.paymentMethods.retrieve(object.payment_method);\n        case 28:\n          paymentMethod = _context2.sent;\n          if (!(paymentMethod.type === 'card')) {\n            _context2.next = 40;\n            break;\n          }\n          newPaymentMethodId = paymentMethod.id;\n          newPaymentMethodFingerPrint = paymentMethod.card.fingerprint;\n          _context2.next = 34;\n          return stripe.customers.listPaymentMethods(customer, {\n            type: 'card'\n          });\n        case 34:\n          allPaymentMethods = _context2.sent;\n          data = allPaymentMethods.data;\n          fingerPrintArray = [];\n          data.forEach(function (item) {\n            var fingerPrint = item.card.fingerprint;\n            if (fingerPrint == newPaymentMethodFingerPrint && item.id != newPaymentMethodId) {\n              fingerPrintArray.push({\n                fingerPrint: fingerPrint,\n                id: item.id\n              });\n            }\n          });\n          _context2.next = 40;\n          return Promise.all([].concat(fingerPrintArray).map(function (_ref3) {\n            var id = _ref3.id;\n            return stripe.paymentMethods.detach(id);\n          }));\n        case 40:\n          return _context2.abrupt(\"return\", res.send({\n            success: true\n          }));\n        case 43:\n          res.status(200).send({\n            success: true\n          });\n        case 44:\n          _context2.next = 50;\n          break;\n        case 46:\n          _context2.prev = 46;\n          _context2.t0 = _context2[\"catch\"](0);\n          cosnole.error(_context2.t0);\n          res.status(500).send({\n            error: _context2.t0\n          });\n        case 50:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 46]]);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stripeWebHooks);\n\n//# sourceURL=webpack://server/./Controllers/WebHooks/stripeWebhooks.js?");

/***/ }),

/***/ "./Controllers/adminController.js":
/*!****************************************!*\
  !*** ./Controllers/adminController.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminLogin: () => (/* binding */ adminLogin),\n/* harmony export */   count_all: () => (/* binding */ count_all)\n/* harmony export */ });\n/* harmony import */ var _Models_user_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Models/user.js */ \"./Models/user.js\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_3__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n\n\n\n\nvar count_all = express_async_handler__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var userCount;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments();\n        case 2:\n          userCount = _context.sent;\n          res.status(200).json({\n            userCount: userCount\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar adminLogin = [(0,express_validator__WEBPACK_IMPORTED_MODULE_3__.check)('email').custom( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email) {\n    var findUser;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            email: email\n          });\n        case 2:\n          findUser = _context2.sent;\n          if (findUser) {\n            _context2.next = 5;\n            break;\n          }\n          throw new Error(\"User doesn't exists.\");\n        case 5:\n          return _context2.abrupt(\"return\", true);\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4) {\n    return _ref2.apply(this, arguments);\n  };\n}()), express_async_handler__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var _req$body, email, password, result, _res$status, newResult, user, match;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _req$body = req.body, email = _req$body.email, password = _req$body.password;\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_3__.validationResult)(req);\n          if (result.isEmpty()) {\n            _context3.next = 5;\n            break;\n          }\n          newResult = result.errors.map(function (item) {\n            return _defineProperty({}, item.path, item.msg);\n          });\n          return _context3.abrupt(\"return\", (_res$status = res.status(404)).send.apply(_res$status, _toConsumableArray(newResult)));\n        case 5:\n          _context3.next = 7;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            email: email\n          });\n        case 7:\n          user = _context3.sent;\n          _context3.next = 10;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(password, user.password);\n        case 10:\n          match = _context3.sent;\n          console.log('match', match);\n          res.status(200).send('login in successfully');\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}())];\n\n//# sourceURL=webpack://server/./Controllers/adminController.js?");

/***/ }),

/***/ "./Controllers/categoryController.js":
/*!*******************************************!*\
  !*** ./Controllers/categoryController.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   get_all_category: () => (/* binding */ get_all_category),\n/* harmony export */   get_singleCategory: () => (/* binding */ get_singleCategory),\n/* harmony export */   query_category_products_by_gender: () => (/* binding */ query_category_products_by_gender)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Models_category_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Models/category.js */ \"./Models/category.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nvar get_all_category = express_async_handler__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var categories;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find().populate(['men', 'women']).exec();\n        case 2:\n          categories = _context.sent;\n          res.send(categories);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar get_singleCategory = express_async_handler__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var name, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          name = req.params.name;\n          _context2.next = 3;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            name: name.toLowerCase()\n          }).populate(['men', 'women']).exec();\n        case 3:\n          result = _context2.sent;\n          if (result) {\n            res.send(result);\n          } else {\n            res.status(404).send(\"Cant find Category \".concat(name, \" Please try Again\"));\n          }\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar query_category_products_by_gender = express_async_handler__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var _req$params, name, gender, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _req$params = req.params, name = _req$params.name, gender = _req$params.gender;\n          _context3.next = 3;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            name: name.toLowerCase()\n          }, {\n            gender: 1\n          }).populate({\n            path: gender.toLowerCase(),\n            populate: {\n              model: 'product',\n              path: 'minVariationPrice'\n            }\n          }).exec();\n        case 3:\n          result = _context3.sent;\n          res.send(result);\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/categoryController.js?");

/***/ }),

/***/ "./Controllers/couponController.js":
/*!*****************************************!*\
  !*** ./Controllers/couponController.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create_coupon: () => (/* binding */ create_coupon),\n/* harmony export */   delete_single_coupon: () => (/* binding */ delete_single_coupon),\n/* harmony export */   get_all_coupons: () => (/* binding */ get_all_coupons),\n/* harmony export */   get_single_coupon: () => (/* binding */ get_single_coupon)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_coupon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/coupon.js */ \"./Models/coupon.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable camelcase */\n\n\nvar get_all_coupons = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var coupons;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _Models_coupon_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 2:\n          coupons = _context.sent;\n          res.send(coupons);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar create_coupon = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _req$body, code, amount, newCoupon;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _req$body = req.body, code = _req$body.code, amount = _req$body.amount;\n          _context2.next = 3;\n          return _Models_coupon_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            code: code,\n            amount: amount\n          });\n        case 3:\n          newCoupon = _context2.sent;\n          res.status(200).send(newCoupon);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar get_single_coupon = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var code, coupon, err;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          code = req.query.code;\n          _context3.next = 3;\n          return _Models_coupon_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            code: code.toUpperCase()\n          });\n        case 3:\n          coupon = _context3.sent;\n          if (coupon) {\n            res.status(200).send(coupon);\n          } else {\n            err = new Error('Coupon Not Found');\n            err.statusCode = 404;\n            next(err);\n            // res.status(404).send('Coupon Not Found');\n          }\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar delete_single_coupon = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var id, coupon;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = req.params.id;\n          _context4.next = 3;\n          return _Models_coupon_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(id);\n        case 3:\n          coupon = _context4.sent;\n          res.status(200).send(\"Coupon \".concat(coupon.code, \" successfully removed\"));\n        case 5:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function (_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/couponController.js?");

/***/ }),

/***/ "./Controllers/deliveryProfileController.js":
/*!**************************************************!*\
  !*** ./Controllers/deliveryProfileController.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create_delivery_profile: () => (/* binding */ create_delivery_profile),\n/* harmony export */   delete_single_delivery_profile: () => (/* binding */ delete_single_delivery_profile),\n/* harmony export */   get_all_delivery_profile: () => (/* binding */ get_all_delivery_profile),\n/* harmony export */   get_many_delivery_profile: () => (/* binding */ get_many_delivery_profile),\n/* harmony export */   get_single_delivery_profile: () => (/* binding */ get_single_delivery_profile),\n/* harmony export */   update_single_delivery_profile: () => (/* binding */ update_single_delivery_profile)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/deliveryProfile.js */ \"./Models/deliveryProfile.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar create_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var body, profile;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          body = req.body;\n          _context.next = 3;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create(body);\n        case 3:\n          profile = _context.sent;\n          res.status(201).send(profile);\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar get_all_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var profile;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 2:\n          profile = _context2.sent;\n          res.status(200).send(profile);\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar delete_single_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var id, profile;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          id = req.params.id;\n          _context3.next = 3;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(id);\n        case 3:\n          profile = _context3.sent;\n          res.status(200).send(profile);\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar update_single_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var id, profile;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = req.params.id;\n          console.log(req.body);\n          _context4.next = 4;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n            _id: id\n          }, req.body, {\n            \"new\": true,\n            context: 'query'\n          });\n        case 4:\n          profile = _context4.sent;\n          res.status(200).send(profile);\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function (_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar get_single_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var id, profile;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.id;\n          _context5.next = 3;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n            _id: id\n          });\n        case 3:\n          profile = _context5.sent;\n          res.status(200).send(profile);\n        case 5:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar get_many_delivery_profile = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var id, parseIdToArray, profiles;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          id = req.params.id;\n          parseIdToArray = JSON.parse(id);\n          _context6.next = 4;\n          return _Models_deliveryProfile_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n            _id: parseIdToArray\n          });\n        case 4:\n          profiles = _context6.sent;\n          res.status(200).send(profiles);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x16, _x17, _x18) {\n    return _ref6.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/deliveryProfileController.js?");

/***/ }),

/***/ "./Controllers/giftCardController.js":
/*!*******************************************!*\
  !*** ./Controllers/giftCardController.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create_giftCard: () => (/* binding */ create_giftCard),\n/* harmony export */   delete_all: () => (/* binding */ delete_all),\n/* harmony export */   delete_single: () => (/* binding */ delete_single),\n/* harmony export */   get_all_giftCard: () => (/* binding */ get_all_giftCard),\n/* harmony export */   get_single_giftCard: () => (/* binding */ get_single_giftCard)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/giftCard.js */ \"./Models/giftCard.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n/* eslint-disable camelcase */\n\n\nvar create_giftCard = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body, code, amount, type, giftCard;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$body = req.body, code = _req$body.code, amount = _req$body.amount, type = _req$body.type;\n          _context.next = 3;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            code: code,\n            amount: amount,\n            type: type\n          });\n        case 3:\n          giftCard = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).send(giftCard));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\nvar get_all_giftCard = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var giftCard;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 2:\n          giftCard = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).send(giftCard));\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar get_single_giftCard = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var code, giftCard, error;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          code = req.query.code;\n          code = code.toUpperCase();\n          if (code.substring(0, 3) != 'GL-') {\n            code = \"GL-\".concat(code);\n          }\n          _context3.next = 5;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            code: code\n          });\n        case 5:\n          giftCard = _context3.sent;\n          if (!giftCard) {\n            _context3.next = 10;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(200).send(giftCard));\n        case 10:\n          error = new Error('Gift Card Not Found');\n          error.statusCode = 404;\n          return _context3.abrupt(\"return\", next(error));\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar delete_single = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var id, giftCard;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = req.params.id;\n          console.log(id);\n          _context4.next = 4;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete({\n            _id: id\n          });\n        case 4:\n          giftCard = _context4.sent;\n          res.status(200).json({\n            msg: \"Gift Card \".concat(giftCard.code, \" successfully deleted.\"),\n            giftCard: giftCard\n          });\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function (_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar delete_all = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var allGiftcards, onlyIds, giftCard;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 2:\n          allGiftcards = _context5.sent;\n          onlyIds = allGiftcards.map(function (giftCard) {\n            var id = giftCard.id;\n            return id;\n          });\n          console.log(onlyIds);\n          _context5.next = 7;\n          return _Models_giftCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteMany({\n            _id: onlyIds\n          });\n        case 7:\n          giftCard = _context5.sent;\n          res.status(200).json({\n            msg: \"Gift Card \".concat(giftCard.code, \" successfully deleted.\"),\n            giftCard: giftCard\n          });\n        case 9:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/giftCardController.js?");

/***/ }),

/***/ "./Controllers/orderController.js":
/*!****************************************!*\
  !*** ./Controllers/orderController.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPaymentIntent: () => (/* binding */ createPaymentIntent),\n/* harmony export */   create_order: () => (/* binding */ create_order),\n/* harmony export */   getOrderDetails: () => (/* binding */ getOrderDetails)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/product.js */ \"./Models/product.js\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../middleware/checkAuthenticated.js */ \"./middleware/checkAuthenticated.js\");\n/* harmony import */ var randomstring__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! randomstring */ \"randomstring\");\n/* harmony import */ var randomstring__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(randomstring__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! stripe */ \"stripe\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(stripe__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils_generateOrderNumber_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/generateOrderNumber.js */ \"./utils/generateOrderNumber.js\");\n/* harmony import */ var _Models_order_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Models/order.js */ \"./Models/order.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n\n\n\n\n\n\n\n\n\n\nvar stripe = stripe__WEBPACK_IMPORTED_MODULE_6___default()(process.env.STRIPE_KEY);\nvar create_order = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_3__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var userId, _req$body, cart, shipping, cartPrice, cartMap, cartObj, getAllCartProducts, isQuantityFixed, getResult, calculatePrice, paymentIntent;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _req$body = req.body, cart = _req$body.cart, shipping = _req$body.shipping; // make a map with all the cart item products\n          //\n          cartPrice = 0;\n          cartMap = new Map();\n          cartObj = {};\n          cart.map(function (_ref2) {\n            var id = _ref2.id,\n              variationSelect = _ref2.variationSelect,\n              quantity = _ref2.quantity;\n            if (!cartMap.has(id)) {\n              var array = [_objectSpread(_objectSpread({}, variationSelect), {}, {\n                quantity: quantity\n              })];\n              cartObj[id] = array;\n              cartMap.set(id, array);\n            } else {\n              var getArray = cartMap.get(id);\n              getArray.push(_objectSpread(_objectSpread({}, variationSelect), {}, {\n                quantity: quantity\n              }));\n              cartMap.set(getArray);\n            }\n          });\n          _context.next = 8;\n          return Promise.all(Object.keys(cartObj).map(function (id) {\n            var product = _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n            return product;\n          }));\n        case 8:\n          getAllCartProducts = _context.sent;\n          isQuantityFixed = true;\n          getResult = getAllCartProducts.map(function (product) {\n            var getVariationSelectArray = cartObj[product.id];\n            getVariationSelectArray.map(function (_ref3) {\n              var color = _ref3.color,\n                size = _ref3.size,\n                quantity = _ref3.quantity;\n              if (product.isSizePresent) {\n                var findVariation = product.variations.find(function (item) {\n                  return item.name === 'Size';\n                });\n                var getVariation = findVariation.options.get(size.id);\n                if (lodash__WEBPACK_IMPORTED_MODULE_7___default().has(getVariation, 'price')) {\n                  cartPrice += getVariation.price * quantity;\n                  isQuantityFixed = false;\n                } else {\n                  cartPrice += product.price.current * quantity;\n                }\n                return getVariation;\n              }\n              if (product.isColorPresent) {\n                var _findVariation = product.variations.find(function (item) {\n                  return item.name === 'Colour';\n                });\n                var _getVariation = _findVariation.options.get(color.id);\n                if (lodash__WEBPACK_IMPORTED_MODULE_7___default().has(_getVariation, 'price')) {\n                  cartPrice += _getVariation.price * quantity;\n                  isQuantityFixed = false;\n                } else {\n                  cartPrice += product.price.current * quantity;\n                }\n                return _getVariation;\n              }\n            });\n          });\n          calculatePrice = parseInt(cartPrice * 100);\n          /* use off_session inorder to allow klarna payment */\n          _context.next = 14;\n          return stripe.paymentIntents.create({\n            amount: calculatePrice,\n            currency: 'gbp',\n            customer: userId,\n            // setup_future_usage: 'off_session',\n            shipping: shipping,\n            payment_method_types: ['card', 'paypal', 'klarna', 'afterpay_clearpay']\n          });\n        case 14:\n          paymentIntent = _context.sent;\n          console.log(paymentIntent);\n          res.status(200).send({\n            success: true,\n            clientSecret: paymentIntent.client_secret,\n            id: paymentIntent.id\n          });\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}())];\nvar createPaymentIntent = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_3__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var userId, _req$body2, cart, shipping, deliveryOption, billing, deliveryDate, cartPrice, cartMap, cartObj, itemsArray, cartIds, productsArray, getAllCartProducts, isQuantityFixed, getResult, subTotal, parseCartPrice, calculatePrice, orderNumber, paymentIntent, orderObj, order;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _req$body2 = req.body, cart = _req$body2.cart, shipping = _req$body2.shipping, deliveryOption = _req$body2.deliveryOption, billing = _req$body2.billing, deliveryDate = _req$body2.deliveryDate; // make a map with all the cart item products\n          //\n          cartPrice = 0;\n          cartMap = new Map();\n          cartObj = {};\n          itemsArray = [];\n          cartIds = [];\n          cart.map(function (_ref5) {\n            var id = _ref5.id,\n              variationSelect = _ref5.variationSelect,\n              quantity = _ref5.quantity,\n              isVariation1Present = _ref5.isVariation1Present,\n              isVariation2Present = _ref5.isVariation2Present,\n              isVariationCombine = _ref5.isVariationCombine,\n              cartId = _ref5.cartId,\n              price = _ref5.price;\n            var obj = _objectSpread(_objectSpread({\n              id: id\n            }, variationSelect), {}, {\n              quantity: quantity,\n              isVariation1Present: isVariation1Present,\n              isVariation2Present: isVariation2Present,\n              isVariationCombine: isVariationCombine,\n              price: price === null || price === void 0 ? void 0 : price.current\n            });\n            itemsArray.push(_objectSpread(_objectSpread({}, obj), {}, {\n              product: id\n            }));\n            cartIds.push(cartId);\n            if (!cartMap.has(id)) {\n              obj.cartId = cartId;\n              var array = [obj];\n              cartObj[id] = array;\n              cartMap.set(id, array);\n            } else {\n              obj.cartId = cartId;\n              var getArray = cartMap.get(id);\n              getArray.push(obj);\n              cartMap.set(getArray);\n            }\n          });\n          productsArray = Object.keys(cartObj);\n          _context2.next = 11;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n            _id: {\n              $in: productsArray\n            }\n          });\n        case 11:\n          getAllCartProducts = _context2.sent;\n          isQuantityFixed = true;\n          getResult = getAllCartProducts.map(function (product) {\n            var getVariationSelectArray = cartObj[product.id];\n            getVariationSelectArray.map(function (variationDetail) {\n              if (product !== null && product !== void 0 && product.variations) {\n                if (product.variations.length < 3) {\n                  // console.log({ notCobine: true, variationDetail });\n\n                  var foundObj = {\n                    price: null,\n                    stock: null\n                  };\n                  var findOptionsforVariation1 = product.variations.find(function (item) {\n                    return item.name === variationDetail.variation1.title;\n                  });\n                  var findOptionsforVariation2 = product.variations.find(function (item) {\n                    return item.name === variationDetail.variation2.title;\n                  });\n                  var findPrice_StockArray = [findOptionsforVariation1, findOptionsforVariation2].map(function (variation, index) {\n                    if (variation !== null && variation !== void 0 && variation.options) {\n                      var foundOptionVariation = variation.options.get(variationDetail[\"variation\".concat(index + 1)].id);\n                      if (lodash__WEBPACK_IMPORTED_MODULE_7___default().has(foundOptionVariation, 'price')) {\n                        foundObj.price = foundOptionVariation.price;\n                      }\n                      if (lodash__WEBPACK_IMPORTED_MODULE_7___default().has(foundOptionVariation, 'stock')) {\n                        foundObj.stock = foundOptionVariation.stock;\n                      }\n                    }\n                  });\n                  console.log({\n                    foundObj: foundObj\n                  });\n                  if (foundObj.price) {\n                    cartPrice += foundObj.price * (variationDetail === null || variationDetail === void 0 ? void 0 : variationDetail.quantity);\n                  } else {\n                    var _product$price;\n                    console.log('variation wasnt present');\n                    cartPrice += (product === null || product === void 0 || (_product$price = product.price) === null || _product$price === void 0 ? void 0 : _product$price.current) * variationDetail.quantity;\n                  }\n                } else {\n                  console.log('this is a combineVariation');\n                  var findOptionsforVariation = product.variations[2].options;\n                  if (findOptionsforVariation) {\n                    var _variationDetail$vari;\n                    var foundOptionVariation = findOptionsforVariation.get(variationDetail === null || variationDetail === void 0 || (_variationDetail$vari = variationDetail.variation2) === null || _variationDetail$vari === void 0 ? void 0 : _variationDetail$vari.id);\n                    if (foundOptionVariation) {\n                      cartPrice += (foundOptionVariation === null || foundOptionVariation === void 0 ? void 0 : foundOptionVariation.price) * (variationDetail === null || variationDetail === void 0 ? void 0 : variationDetail.quantity);\n                    } else {\n                      console.log('didnt find variation, may have been deleted');\n                    }\n                  }\n                }\n              }\n            });\n          });\n          subTotal = cartPrice;\n          if (lodash__WEBPACK_IMPORTED_MODULE_7___default().has(deliveryOption, 'cost')) {\n            cartPrice += deliveryOption.cost;\n          }\n          parseCartPrice = parseFloat(cartPrice).toFixed(2);\n          calculatePrice = parseInt(parseCartPrice.replace('.', ''));\n          /* use off_session inorder to allow klarna payment */\n          orderNumber = (0,_utils_generateOrderNumber_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n          console.log({\n            calculatePrice: calculatePrice\n          });\n          _context2.next = 22;\n          return stripe.paymentIntents.create({\n            metadata: {\n              orderNumber: orderNumber,\n              isQuantityFixed: isQuantityFixed\n            },\n            amount: calculatePrice,\n            currency: 'gbp',\n            customer: userId,\n            // setup_future_usage: 'off_session',\n            shipping: shipping,\n            payment_method_types: ['card', 'paypal', 'klarna', 'afterpay_clearpay']\n          });\n        case 22:\n          paymentIntent = _context2.sent;\n          orderObj = {\n            _id: orderNumber,\n            customer: userId,\n            status: 'processing',\n            shipping_address: shipping,\n            billing_address: billing,\n            transaction_cost: {\n              total: parseCartPrice,\n              subtotal: parseFloat(subTotal).toFixed(2)\n            },\n            shipping_option: {\n              cost: deliveryOption === null || deliveryOption === void 0 ? void 0 : deliveryOption.cost,\n              delivery_date: deliveryDate,\n              name: deliveryOption === null || deliveryOption === void 0 ? void 0 : deliveryOption.name\n            },\n            items: itemsArray,\n            cartObj: cartObj,\n            cartIds: cartIds\n          };\n          _context2.next = 26;\n          return _Models_order_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].create(orderObj);\n        case 26:\n          order = _context2.sent;\n          // console.log({ order });\n          res.status(200).send({\n            success: true,\n            clientSecret: paymentIntent.client_secret,\n            orderNumber: orderNumber,\n            id: paymentIntent.id\n          });\n        case 28:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x4, _x5, _x6) {\n    return _ref4.apply(this, arguments);\n  };\n}())];\nvar getOrderDetails = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_3__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var userId, id, order;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          userId = req.session.passport.user;\n          id = req.params.id;\n          _context3.next = 4;\n          return _Models_order_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].findById(id.toUpperCase()).populate('items.product', ['images', 'title', 'variations']);\n        case 4:\n          order = _context3.sent;\n          if (!order) {\n            _context3.next = 13;\n            break;\n          }\n          if (!(order.customer.toString() === userId)) {\n            _context3.next = 10;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(200).send({\n            order: order,\n            success: false\n          }));\n        case 10:\n          res.status(404).send({\n            msg: 'You are not authorized.',\n            success: false\n          });\n        case 11:\n          _context3.next = 14;\n          break;\n        case 13:\n          return _context3.abrupt(\"return\", res.status(404).send({\n            msg: 'Not Found',\n            success: false\n          }));\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x7, _x8, _x9) {\n    return _ref6.apply(this, arguments);\n  };\n}())];\n\n//# sourceURL=webpack://server/./Controllers/orderController.js?");

/***/ }),

/***/ "./Controllers/productController.js":
/*!******************************************!*\
  !*** ./Controllers/productController.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create_new_product: () => (/* binding */ create_new_product),\n/* harmony export */   delete_many_product: () => (/* binding */ delete_many_product),\n/* harmony export */   delete_product: () => (/* binding */ delete_product),\n/* harmony export */   getVariations: () => (/* binding */ getVariations),\n/* harmony export */   get_all_products: () => (/* binding */ get_all_products),\n/* harmony export */   get_single_admin_product: () => (/* binding */ get_single_admin_product),\n/* harmony export */   get_single_product: () => (/* binding */ get_single_product),\n/* harmony export */   update_product: () => (/* binding */ update_product)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/product.js */ \"./Models/product.js\");\n/* harmony import */ var _Models_category_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Models/category.js */ \"./Models/category.js\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_productValidator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/productValidator.js */ \"./utils/productValidator.js\");\n/* harmony import */ var _Upload_sharpify_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Upload/sharpify.js */ \"./Upload/sharpify.js\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _Upload_fileFilter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Upload/fileFilter.js */ \"./Upload/fileFilter.js\");\n/* harmony import */ var _s3Service_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../s3Service.js */ \"./s3Service.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils_sortCOmbineVariations_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/sortCOmbineVariations.js */ \"./utils/sortCOmbineVariations.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable */\n\n\n\n\nvar url = \"\".concat(process.env.UPLOAD_URL, \"/products\");\n\n\n\n\n\n// eslint-disable-next-line import/prefer-default-export\n\n\n\n\nvar get_all_products = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var products;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find().populate('category').exec();\n        case 2:\n          products = _context.sent;\n          res.send(products);\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n// export const get_all_by_category = asyncHandler(async (req, res) => {\n//   const category = await Category.find();\n\n//   const products = await Product.find({ category });\n//   if (category) {\n//     res.send(category);\n//   }\n// });\n\nvar get_single_admin_product = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var id, product;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          id = req.params.id;\n          _context2.next = 3;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            _id: id\n          }).populate([{\n            path: 'delivery'\n          }, {\n            path: 'category'\n          }]).exec();\n        case 3:\n          product = _context2.sent;\n          if (product) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", res.status(404).send('product not found'));\n        case 6:\n          return _context2.abrupt(\"return\", res.status(200).send(product));\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nvar get_single_product = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var id, product, price, category, minVariationPrice, newProducts, newData, isVariationsPresent, variations, minimumPrice, i, _variations$i, combine, name, name2, options, valueArray, _iterator, _step, _step$value, key, value, hasPriceProperty, _sortCombineVariation, variationObj, minPriceValue, variation1, variation2;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          id = req.params.id;\n          _context3.next = 3;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id).populate({\n            path: 'category',\n            populate: [{\n              path: 'men',\n              perDocumentLimit: 10,\n              match: {\n                _id: {\n                  $ne: id\n                }\n              }\n            }, {\n              path: 'women',\n              perDocumentLimit: 10,\n              match: {\n                _id: {\n                  $ne: id\n                }\n              }\n            }]\n          }).exec();\n        case 3:\n          product = _context3.sent;\n          if (product) {\n            _context3.next = 6;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(404).send('product not found'));\n        case 6:\n          price = product.price, category = product.category, minVariationPrice = product.minVariationPrice;\n          newProducts = product.toJSON({\n            flattenMaps: true\n          });\n          newData = _objectSpread(_objectSpread({}, newProducts), {}, {\n            id: product.id,\n            category: category.name,\n            also_like: {\n              men: category.men,\n              women: category.women\n            }\n          }); // if ('variations' in product) {\n          isVariationsPresent = lodash__WEBPACK_IMPORTED_MODULE_11___default().has(newProducts, 'variations');\n          newData.isVariation1Present = false;\n          newData.isVariation2Present = false;\n          newData.isVariationCombine = false;\n          if (!isVariationsPresent) {\n            _context3.next = 31;\n            break;\n          }\n          variations = product.variations;\n          minimumPrice = Infinity;\n          i = 0;\n        case 17:\n          if (!(i < variations.length)) {\n            _context3.next = 30;\n            break;\n          }\n          _variations$i = variations[i], combine = _variations$i.combine, name = _variations$i.name, name2 = _variations$i.name2, options = _variations$i.options;\n          if (!(i == 0 && combine)) {\n            _context3.next = 25;\n            break;\n          }\n          console.log('this variation is combined');\n\n          // jump to 3rd variation which is combined\n          i++;\n          return _context3.abrupt(\"continue\", 27);\n        case 25:\n          if (variations.length < 3) {\n            // variationsObject[`variation${i}`] = { array: [] }\n            valueArray = [];\n            _iterator = _createForOfIteratorHelper(options);\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                _step$value = _slicedToArray(_step.value, 2), key = _step$value[0], value = _step$value[1];\n                hasPriceProperty = lodash__WEBPACK_IMPORTED_MODULE_11___default().has(value, 'price');\n                if (hasPriceProperty) {\n                  minimumPrice = Math.min(minimumPrice, value.price);\n                }\n                valueArray.push(value);\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n            newData[\"variation\".concat(i + 1)] = {\n              array: valueArray,\n              title: name\n            };\n            newData[\"isVariation\".concat(i + 1, \"Present\")] = true;\n            console.log('product is not combined', valueArray);\n          }\n        case 26:\n          if (i == 2 && combine && variations.length == 3) {\n            _sortCombineVariation = (0,_utils_sortCOmbineVariations_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(options), variationObj = _sortCombineVariation.variationObj, minPriceValue = _sortCombineVariation.minPriceValue, variation1 = _sortCombineVariation.variation1, variation2 = _sortCombineVariation.variation2;\n            variation1.title = name;\n            variation2.title = name2;\n            minimumPrice = minPriceValue;\n            newData.variation1 = variation1;\n            newData.variation2 = variation2;\n            newData.isVariation1Present = true;\n            newData.isVariation2Present = true;\n            newData.combineVariation = variationObj;\n            newData.isVariationCombine = true;\n          }\n        case 27:\n          i++;\n          _context3.next = 17;\n          break;\n        case 30:\n          if (isFinite(minimumPrice)) {\n            newData.price.current = minimumPrice;\n          }\n        case 31:\n          console.log(newData.price);\n          res.send(newData);\n        case 33:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar delete_product = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var id, product, gender, category;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = req.params.id;\n          _context4.next = 3;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n        case 3:\n          product = _context4.sent;\n          gender = product.gender, category = product.category;\n          _context4.next = 7;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(id);\n        case 7:\n          _context4.next = 9;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: category\n          }, {\n            $pull: _defineProperty({}, gender, id)\n          });\n        case 9:\n          _context4.next = 11;\n          return 'products', id;\n        case 11:\n          _context4.next = 13;\n          return _context4.sent;\n        case 13:\n          res.status(200).json({\n            msg: 'Product deleted.',\n            product: product\n          });\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function (_x9, _x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar delete_many_product = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var id, idArr, deleteProductsImages, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.id;\n          idArr = id.split(',');\n          deleteProductsImages = idArr.map(function (item) {\n            return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_8__.s3Delete)('products', item);\n          });\n          _context5.next = 5;\n          return Promise.all([_Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteMany({\n            _id: idArr\n          }), deleteProductsImages]);\n        case 5:\n          result = _context5.sent;\n          res.status(200).send(result);\n        case 7:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x12, _x13, _x14) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n// create a new Product\nvar storage = multer__WEBPACK_IMPORTED_MODULE_6___default().memoryStorage();\nvar upload = multer__WEBPACK_IMPORTED_MODULE_6___default()({\n  storage: storage,\n  fileFilter: _Upload_fileFilter_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  limits: {\n    fileSize: 1000000000,\n    files: 6\n  }\n});\n\n// work on adding variations\nfunction generateProduct(_x15, _x16) {\n  return _generateProduct.apply(this, arguments);\n}\nfunction _generateProduct() {\n  _generateProduct = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, id) {\n    var counter, imageArr, files, variations, _req$body3, title, delivery, gender, price, stock, category, detail, newStock, newPrice, parseVariations, productData, sharpResult, _iterator2, _step2, item, sharpen;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          counter = 0;\n          imageArr = [];\n          files = req.files;\n          variations = req.body.variations;\n          _req$body3 = req.body, title = _req$body3.title, delivery = _req$body3.delivery, gender = _req$body3.gender, price = _req$body3.price, stock = _req$body3.stock, category = _req$body3.category, detail = _req$body3.detail;\n          newStock = JSON.parse(stock.replace(/&quot;/g, '\"'));\n          newPrice = JSON.parse(price.replace(/&quot;/g, '\"'));\n          parseVariations = variations === null || variations === void 0 ? void 0 : variations.map(function (item) {\n            var data = JSON.parse(item);\n            delete data.id;\n            data.options = new Map(data.options);\n            return data;\n          });\n          productData = {\n            title: title,\n            delivery: delivery,\n            gender: gender,\n            category: category,\n            detail: detail,\n            variations: parseVariations,\n            images: imageArr\n          };\n          if (newStock.on) {\n            productData.stock = newStock.value;\n          }\n          if (newPrice.on) {\n            productData.price = {\n              current: newPrice.value\n            };\n          }\n\n          // const newFiles = files.map(async (item) => {\n          //   const sharpen = await sharpify(item);\n          //   sharpen.fileName = counter === 0 ? 'primary' : `additional-${counter}`;\n          //   imageArr.push(`${url}/${id}/${sharpen.fileName}.${sharpen.format}`);\n          //   counter += 1;\n          //   return sharpen;\n          // });\n          sharpResult = [];\n          _iterator2 = _createForOfIteratorHelper(files);\n          _context9.prev = 13;\n          _iterator2.s();\n        case 15:\n          if ((_step2 = _iterator2.n()).done) {\n            _context9.next = 26;\n            break;\n          }\n          item = _step2.value;\n          _context9.next = 19;\n          return (0,_Upload_sharpify_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(item);\n        case 19:\n          sharpen = _context9.sent;\n          sharpen.fileName = counter === 0 ? 'primary' : \"additional-\".concat(counter);\n          imageArr.push(\"\".concat(url, \"/\").concat(id, \"/\").concat(sharpen.fileName, \".\").concat(sharpen.format));\n          counter += 1;\n          sharpResult.push(sharpen);\n        case 24:\n          _context9.next = 15;\n          break;\n        case 26:\n          _context9.next = 31;\n          break;\n        case 28:\n          _context9.prev = 28;\n          _context9.t0 = _context9[\"catch\"](13);\n          _iterator2.e(_context9.t0);\n        case 31:\n          _context9.prev = 31;\n          _iterator2.f();\n          return _context9.finish(31);\n        case 34:\n          return _context9.abrupt(\"return\", {\n            productData: productData,\n            sharpResult: sharpResult\n          });\n        case 35:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[13, 28, 31, 34]]);\n  }));\n  return _generateProduct.apply(this, arguments);\n}\nvar create_new_product = [upload.array('files', 6), _utils_productValidator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], ( /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var resultValidation, _req$body, gender, category, newProduct, _yield$generateProduc, productData, sharpResult, deleteId, deleteResult;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          resultValidation = (0,express_validator__WEBPACK_IMPORTED_MODULE_3__.validationResult)(req);\n          if (resultValidation.isEmpty()) {\n            _context6.next = 4;\n            break;\n          }\n          res.status(400).send(resultValidation.errors);\n          return _context6.abrupt(\"return\");\n        case 4:\n          _req$body = req.body, gender = _req$body.gender, category = _req$body.category;\n          newProduct = new _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n          _context6.next = 8;\n          return generateProduct(req, newProduct.id);\n        case 8:\n          _yield$generateProduc = _context6.sent;\n          productData = _yield$generateProduc.productData;\n          sharpResult = _yield$generateProduc.sharpResult;\n          Object.assign(newProduct, productData);\n\n          // console.log(\n          //   '--------------------------------\\r\\n',\n          //   'newProduct: ',\n          //   newProduct,\n          // );\n          _context6.prev = 12;\n          _context6.next = 15;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: category\n          }, {\n            $push: _defineProperty({}, gender, newProduct.id)\n          });\n        case 15:\n          _context6.next = 17;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(sharpResult, false, newProduct.id);\n        case 17:\n          _context6.next = 19;\n          return newProduct.save();\n        case 19:\n          return _context6.abrupt(\"return\", res.status(201).send('Product successfully created!!!'));\n        case 22:\n          _context6.prev = 22;\n          _context6.t0 = _context6[\"catch\"](12);\n          deleteId = newProduct.id;\n          _context6.next = 27;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_8__.s3Delete)('products', deleteId);\n        case 27:\n          deleteResult = _context6.sent;\n          next(_context6.t0);\n        case 29:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[12, 22]]);\n  }));\n  return function (_x17, _x18, _x19) {\n    return _ref6.apply(this, arguments);\n  };\n}())];\nvar update_product = [upload.array('files', 6), _utils_productValidator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(req, res, next) {\n    var _productData$price, _oldProduct$price;\n    var result, id, _req$body2, gender, category, _yield$generateProduc2, productData, sharpResult, oldProduct, newPrice;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_3__.validationResult)(req);\n          if (result.isEmpty()) {\n            _context7.next = 4;\n            break;\n          }\n          res.status(400).send(result.errors);\n          return _context7.abrupt(\"return\");\n        case 4:\n          id = req.params.id;\n          _req$body2 = req.body, gender = _req$body2.gender, category = _req$body2.category;\n          _context7.next = 8;\n          return generateProduct(req, id);\n        case 8:\n          _yield$generateProduc2 = _context7.sent;\n          productData = _yield$generateProduc2.productData;\n          sharpResult = _yield$generateProduc2.sharpResult;\n          _context7.next = 13;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id, {\n            category: 1,\n            gender: 1,\n            price: 1,\n            variations: 1\n            // minVariationPrice: 0,\n          }).populate({\n            path: 'category'\n          });\n        case 13:\n          oldProduct = _context7.sent;\n          _context7.next = 16;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_8__.s3Delete)('products', id);\n        case 16:\n          _context7.next = 18;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(sharpResult, false, id);\n        case 18:\n          newPrice = {\n            current: productData === null || productData === void 0 || (_productData$price = productData.price) === null || _productData$price === void 0 ? void 0 : _productData$price.current,\n            previous: ((_oldProduct$price = oldProduct.price) === null || _oldProduct$price === void 0 ? void 0 : _oldProduct$price.current) || (oldProduct === null || oldProduct === void 0 ? void 0 : oldProduct.minVariationPrice)\n          };\n          productData.price = newPrice;\n          if (!(category !== oldProduct.category.id || gender !== oldProduct.gender)) {\n            _context7.next = 25;\n            break;\n          }\n          _context7.next = 23;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: oldProduct.category\n          }, {\n            $pull: _defineProperty({}, oldProduct.gender, id)\n          });\n        case 23:\n          _context7.next = 25;\n          return _Models_category_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: category\n          }, {\n            $push: _defineProperty({}, gender, id)\n          });\n        case 25:\n          _context7.next = 27;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(id, _objectSpread({}, productData), {\n            upsert: true\n          });\n        case 27:\n          res.status(200).send('Product successfully updated.');\n        case 28:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x20, _x21, _x22) {\n    return _ref7.apply(this, arguments);\n  };\n}())];\nvar getVariations = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var id, product, variation;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          id = req.params.id;\n          _context8.next = 3;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n        case 3:\n          product = _context8.sent;\n          variation = product.variations[0].options.get('67bec3e8-7010-4e96-b77e-cea2c38b2955');\n          res.send(variation);\n        case 6:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x23, _x24, _x25) {\n    return _ref8.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/productController.js?");

/***/ }),

/***/ "./Controllers/searchController.js":
/*!*****************************************!*\
  !*** ./Controllers/searchController.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   search_product: () => (/* binding */ search_product)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/product.js */ \"./Models/product.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n\n\nvar search_product = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var q, searchResult;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          q = req.query.q;\n          _context.next = 3;\n          return _Models_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].aggregate([{\n            $search: {\n              index: 'searchProductIndex',\n              autocomplete: {\n                query: q,\n                path: 'title',\n                fuzzy: {\n                  maxEdits: 2\n                }\n              }\n            }\n          }, {\n            $project: {\n              title: 1,\n              images: 1\n            }\n          }, {\n            $limit: 10\n          }\n\n          // {\n          //   $limit: 5,\n          // },\n          ]);\n        case 3:\n          searchResult = _context.sent;\n          console.log({\n            searchResult: searchResult\n          });\n          res.send(searchResult);\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\n//# sourceURL=webpack://server/./Controllers/searchController.js?");

/***/ }),

/***/ "./Controllers/userController.js":
/*!***************************************!*\
  !*** ./Controllers/userController.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPaymentMethod: () => (/* binding */ addPaymentMethod),\n/* harmony export */   addUserAddress: () => (/* binding */ addUserAddress),\n/* harmony export */   changeDefaultMethod: () => (/* binding */ changeDefaultMethod),\n/* harmony export */   changeDetails: () => (/* binding */ changeDetails),\n/* harmony export */   checkUser: () => (/* binding */ checkUser),\n/* harmony export */   create_user: () => (/* binding */ create_user),\n/* harmony export */   deleteAddress: () => (/* binding */ deleteAddress),\n/* harmony export */   deletePaymentMethod: () => (/* binding */ deletePaymentMethod),\n/* harmony export */   delete_many_user: () => (/* binding */ delete_many_user),\n/* harmony export */   delete_user: () => (/* binding */ delete_user),\n/* harmony export */   dummy_data: () => (/* binding */ dummy_data),\n/* harmony export */   editAddress: () => (/* binding */ editAddress),\n/* harmony export */   getAllUserData: () => (/* binding */ getAllUserData),\n/* harmony export */   getOrders: () => (/* binding */ getOrders),\n/* harmony export */   getPaymentMethods: () => (/* binding */ getPaymentMethods),\n/* harmony export */   get_all_users: () => (/* binding */ get_all_users),\n/* harmony export */   get_single_user: () => (/* binding */ get_single_user),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   logoutUser: () => (/* binding */ logoutUser),\n/* harmony export */   saveCustomerCard: () => (/* binding */ saveCustomerCard),\n/* harmony export */   setUpKlarna: () => (/* binding */ setUpKlarna),\n/* harmony export */   setUpPaypal: () => (/* binding */ setUpPaypal),\n/* harmony export */   signUp_user: () => (/* binding */ signUp_user),\n/* harmony export */   updateDefaultAddress: () => (/* binding */ updateDefaultAddress),\n/* harmony export */   updatePreferences: () => (/* binding */ updatePreferences),\n/* harmony export */   update_single: () => (/* binding */ update_single),\n/* harmony export */   userLogout: () => (/* binding */ userLogout)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Models_user_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Models/user.js */ \"./Models/user.js\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Upload_fileFilter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Upload/fileFilter.js */ \"./Upload/fileFilter.js\");\n/* harmony import */ var _Upload_sharpify_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Upload/sharpify.js */ \"./Upload/sharpify.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _s3Service_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../s3Service.js */ \"./s3Service.js\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var dayjs_plugin_timezone_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! dayjs/plugin/timezone.js */ \"dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var dayjs_plugin_utc_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! dayjs/plugin/utc.js */ \"dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _utils_passport_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/passport.js */ \"./utils/passport.js\");\n/* harmony import */ var _middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../middleware/checkAuthenticated.js */ \"./middleware/checkAuthenticated.js\");\n/* harmony import */ var _Models_address_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../Models/address.js */ \"./Models/address.js\");\n/* harmony import */ var _utils_addressValidator_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/addressValidator.js */ \"./utils/addressValidator.js\");\n/* harmony import */ var _utils_errorRegenerator_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/errorRegenerator.js */ \"./utils/errorRegenerator.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! stripe */ \"stripe\");\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(stripe__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _Models_order_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../Models/order.js */ \"./Models/order.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable import/prefer-default-export */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar stripe = stripe__WEBPACK_IMPORTED_MODULE_19___default()(process.env.STRIPE_KEY);\nvar CLIENT_URL = process.env.CLIENT_URL;\nvar SALT_ROUNDS = process.env.SALT_ROUNDS;\ndayjs__WEBPACK_IMPORTED_MODULE_11___default().extend((dayjs_plugin_utc_js__WEBPACK_IMPORTED_MODULE_10___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_11___default().extend((dayjs_plugin_timezone_js__WEBPACK_IMPORTED_MODULE_9___default()));\nvar handleProfilePhoto = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(file, id) {\n    var compressImg, profileImg, updateUser;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!file) {\n            _context.next = 11;\n            break;\n          }\n          _context.next = 3;\n          return (0,_Upload_sharpify_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(file, 'profile');\n        case 3:\n          compressImg = _context.sent;\n          compressImg.id = id;\n          _context.next = 7;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])([compressImg], true);\n        case 7:\n          profileImg = \"\".concat(process.env.UPLOAD_URL, \"/user/\").concat(id, \".\").concat(compressImg.format);\n          _context.next = 10;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(id, {\n            profileImg: profileImg\n          }, {\n            upsert: true,\n            \"new\": true\n          });\n        case 10:\n          updateUser = _context.sent;\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function handleProfilePhoto(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar get_all_users = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var users;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find();\n        case 2:\n          users = _context2.sent;\n          res.status(200).send(users);\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n// test\nvar dummy_data = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var dummyUsers, bulkCreate;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          dummyUsers = [{\n            firstName: 'John',\n            lastName: 'Doe',\n            email: 'johndoe@example.com',\n            password: 'password123',\n            dob: new Date('1990-01-15'),\n            interest: 'Menswear'\n          }, {\n            firstName: 'Jane',\n            lastName: 'Smith',\n            email: 'janesmith@example.com',\n            password: 'securepassword',\n            dob: new Date('1985-05-20'),\n            interest: 'Womenswear'\n          }, {\n            firstName: 'Alice',\n            lastName: 'Johnson',\n            email: 'alice@example.com',\n            password: 'mysecretpassword',\n            dob: new Date('1995-09-10'),\n            interest: 'Menswear'\n          }, {\n            firstName: 'Ella',\n            lastName: 'Brown',\n            email: 'ella@example.com',\n            password: 'mypassword123',\n            dob: new Date('1988-11-30'),\n            interest: 'Womenswear'\n          }];\n          _context3.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].insertMany(dummyUsers);\n        case 3:\n          bulkCreate = _context3.sent;\n          res.send(bulkCreate);\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function (_x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nvar delete_user = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var id, user;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          id = req.params.id;\n          _context4.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(id);\n        case 3:\n          user = _context4.sent;\n          _context4.next = 6;\n          return (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_6__.s3Delete)('user', id);\n        case 6:\n          res.status(200).json({\n            msg: 'user Deleted',\n            user: user\n          });\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function (_x9, _x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nvar delete_many_user = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var id, idArr, deleteUserImage, result;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          id = req.params.id;\n          idArr = id.split(',');\n          deleteUserImage = idArr.map(function (item) {\n            (0,_s3Service_js__WEBPACK_IMPORTED_MODULE_6__.s3Delete)('user', item);\n          });\n          _context5.next = 5;\n          return Promise.all([_Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteMany({\n            _id: idArr\n          }), deleteUserImage]);\n        case 5:\n          result = _context5.sent;\n          res.status(200).send(result);\n        case 7:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function (_x12, _x13, _x14) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar storage = multer__WEBPACK_IMPORTED_MODULE_2___default().memoryStorage();\nvar upload = multer__WEBPACK_IMPORTED_MODULE_2___default()({\n  storage: storage,\n  fileFilter: _Upload_fileFilter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  limits: {\n    fileSize: 1000000000,\n    files: 6\n  }\n});\nvar create_user = [upload.single('file'), express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var file, _req$body, password, firstName, lastName, dob, address, mobile, email, interest, hashPassword, user, id;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          file = req.file;\n          _req$body = req.body, password = _req$body.password, firstName = _req$body.firstName, lastName = _req$body.lastName, dob = _req$body.dob, address = _req$body.address, mobile = _req$body.mobile, email = _req$body.email, interest = _req$body.interest;\n          _context6.next = 4;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().hash(password, 10);\n        case 4:\n          hashPassword = _context6.sent;\n          _context6.next = 7;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            password: hashPassword,\n            firstName: firstName,\n            lastName: lastName,\n            dob: dob,\n            address: [address],\n            mobile: mobile,\n            email: email,\n            interest: interest\n          });\n        case 7:\n          user = _context6.sent;\n          id = user.id;\n          _context6.next = 11;\n          return handleProfilePhoto(file, id);\n        case 11:\n          res.status(201).send(user);\n        case 12:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x15, _x16, _x17) {\n    return _ref6.apply(this, arguments);\n  };\n}())];\nvar signUp_user = [(0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('email', 'Please enter a valid email address.').trim().escape().notEmpty().custom( /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(value) {\n    var findUser;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: value\n          });\n        case 2:\n          findUser = _context7.sent;\n          if (!findUser) {\n            _context7.next = 5;\n            break;\n          }\n          throw new Error('User Already Exists. Please try using a different email address.');\n        case 5:\n          return _context7.abrupt(\"return\", true);\n        case 6:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function (_x18) {\n    return _ref7.apply(this, arguments);\n  };\n}()), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('password', 'Password must be between 10 to 20 characters.').trim().notEmpty().escape().trim().isLength({\n  min: 10,\n  max: 20\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('firstName', 'Please enter an valid first name.').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('lastName', 'Please enter an valid last name.').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('email', 'Please enter a valid email.').trim().escape().notEmpty().isEmail(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('dob', 'Please enter an valid date').custom(function (value) {\n  var userDob = dayjs__WEBPACK_IMPORTED_MODULE_11___default()(value);\n  var todayDate = dayjs__WEBPACK_IMPORTED_MODULE_11___default()();\n  var difference = todayDate.diff(userDob, 'year');\n  if (difference < 18) {\n    throw new Error('You must be 18 or older to use Glamo.');\n  }\n  return true;\n}), express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(req, res, next) {\n    var _req$body2, firstName, email, password, lastName, result, newResult, salt, hashPassword, user;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          _req$body2 = req.body, firstName = _req$body2.firstName, email = _req$body2.email, password = _req$body2.password, lastName = _req$body2.lastName;\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.validationResult)(req);\n          if (result.isEmpty()) {\n            _context8.next = 6;\n            break;\n          }\n          newResult = {};\n          result.errors.map(function (_ref9) {\n            var path = _ref9.path,\n              msg = _ref9.msg;\n            newResult[path] = msg;\n          });\n          return _context8.abrupt(\"return\", res.status(400).send(newResult));\n        case 6:\n          salt = bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().genSaltSync(parseInt(SALT_ROUNDS));\n          hashPassword = bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().hashSync(password, salt);\n          _context8.next = 10;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create(_objectSpread(_objectSpread({}, req.body), {}, {\n            password: hashPassword\n          }));\n        case 10:\n          user = _context8.sent;\n          _context8.next = 13;\n          return stripe.customers.create({\n            id: user.id,\n            name: \"\".concat(firstName, \" \").concat(lastName),\n            email: email\n          });\n        case 13:\n          res.status(200).send({\n            msg: 'user created',\n            user: user\n          });\n        case 14:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function (_x19, _x20, _x21) {\n    return _ref8.apply(this, arguments);\n  };\n}())];\nvar get_single_user = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(req, res, next) {\n    var id, user;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          id = req.params.id;\n          _context9.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(id);\n        case 3:\n          user = _context9.sent;\n          if (!user) {\n            res.status(404).send('User Not Found');\n          } else {\n            res.status(200).send(user);\n          }\n        case 5:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function (_x22, _x23, _x24) {\n    return _ref10.apply(this, arguments);\n  };\n}());\nvar update_single = [upload.single('file'), express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(req, res, next) {\n    var id, file, user;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          id = req.params.id;\n          file = req.file;\n          _context10.next = 4;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n            _id: id\n          }, req.body, {\n            \"new\": true,\n            upsert: true,\n            runValidators: true\n          });\n        case 4:\n          user = _context10.sent;\n          _context10.next = 7;\n          return handleProfilePhoto(file, id);\n        case 7:\n          res.status(200).send(user);\n        case 8:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return function (_x25, _x26, _x27) {\n    return _ref11.apply(this, arguments);\n  };\n}())];\nvar loginUser = [(0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('email', 'Please enter a valid email address.').trim().isEmail().custom( /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(email) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          _context11.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: email\n          });\n        case 3:\n          result = _context11.sent;\n          if (findUser) {\n            _context11.next = 6;\n            break;\n          }\n          throw new Error('User does not exist.');\n        case 6:\n          return _context11.abrupt(\"return\", true);\n        case 9:\n          _context11.prev = 9;\n          _context11.t0 = _context11[\"catch\"](0);\n        case 11:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11, null, [[0, 9]]);\n  }));\n  return function (_x28) {\n    return _ref12.apply(this, arguments);\n  };\n}()), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('password', 'Please enter a valid password between 10 to 20 characters.').trim().notEmpty().escape().trim().isLength({\n  min: 10,\n  max: 20\n}), express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(req, res, next) {\n    var result, newResult;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.validationResult)(req);\n          if (result.isEmpty()) {\n            _context12.next = 5;\n            break;\n          }\n          newResult = {};\n          result.errors.map(function (_ref14) {\n            var path = _ref14.path,\n              msg = _ref14.msg;\n            newResult[path] = msg;\n          });\n          return _context12.abrupt(\"return\", res.status(400).send(newResult));\n        case 5:\n          _utils_passport_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"].authenticate('local', function (err, user, info) {\n            if (err) {\n              next(err);\n            }\n            if (!user) {\n              return res.status(400).send({\n                password: 'The password is invalid. Please try again.'\n              });\n            }\n            req.logIn(user, function (error) {\n              if (error) {\n                return next(err);\n              }\n              return res.status(200).redirect('/api/user/check');\n            });\n          })(req, res, next);\n        case 6:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12);\n  }));\n  return function (_x29, _x30, _x31) {\n    return _ref13.apply(this, arguments);\n  };\n}())];\nvar userLogout = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(req, res, next) {\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          if (req.isAuthenticated()) {\n            req.logout();\n          }\n          return _context13.abrupt(\"return\", res.status(200).redirect('/api/user/check'));\n        case 2:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13);\n  }));\n  return function (_x32, _x33, _x34) {\n    return _ref15.apply(this, arguments);\n  };\n}());\nvar checkUser = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(req, res, next) {\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          return _context14.abrupt(\"return\", res.status(200).send({\n            user: req.user,\n            authenticated: req.isAuthenticated()\n          }));\n        case 1:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14);\n  }));\n  return function (_x35, _x36, _x37) {\n    return _ref16.apply(this, arguments);\n  };\n}());\nvar logoutUser = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()(function (req, res, next) {\n  req.logout(function (err) {\n    if (err) {\n      return next(err);\n    }\n    req.session.destroy();\n    return res.status(200).clearCookie('connect.sid').send({\n      msg: 'Successfully logout user.',\n      authenticated: false\n    });\n  });\n});\nvar getAllUserData = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(req, res, next) {\n    var user;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.next = 2;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(req.session.passport.user, {\n            password: 0\n          }).populate('address').exec();\n        case 2:\n          user = _context15.sent;\n          res.send({\n            user: user\n          });\n        case 4:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15);\n  }));\n  return function (_x38, _x39, _x40) {\n    return _ref17.apply(this, arguments);\n  };\n}())];\n//change default address\nvar changeDetails = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(req, res, next) {\n    var body, user;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          body = req.body;\n          _context16.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(req.session.passport.user, body, {\n            select: {\n              password: 0\n            },\n            returnDocument: 'after',\n            runValidators: true\n          });\n        case 3:\n          user = _context16.sent;\n          res.redirect(303, '/api/user/check');\n        case 5:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16);\n  }));\n  return function (_x41, _x42, _x43) {\n    return _ref18.apply(this, arguments);\n  };\n}())];\nvar addUserAddress = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, _utils_addressValidator_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"], express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(req, res, next) {\n    var result, newResult, userId, address, _yield$Promise$all, _yield$Promise$all2, newAddress, user;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.validationResult)(req);\n          if (result.isEmpty()) {\n            _context17.next = 4;\n            break;\n          }\n          newResult = (0,_utils_errorRegenerator_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(result);\n          return _context17.abrupt(\"return\", res.status(400).send(newResult));\n        case 4:\n          userId = req.session.passport.user;\n          address = new _Models_address_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](_objectSpread(_objectSpread({}, req.body), {}, {\n            userId: userId\n          }));\n          _context17.next = 8;\n          return Promise.all([address.save(), _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(userId, {\n            $push: {\n              address: address._id\n            }\n          }, {\n            runValidators: true,\n            \"new\": true,\n            select: {\n              password: 0\n            }\n          }).populate('address').exec()]);\n        case 8:\n          _yield$Promise$all = _context17.sent;\n          _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n          newAddress = _yield$Promise$all2[0];\n          user = _yield$Promise$all2[1];\n          if (!(user.address.length == 1)) {\n            _context17.next = 16;\n            break;\n          }\n          user.default_address = {\n            billing_address: address.id,\n            shipping_address: address.id\n          };\n          _context17.next = 16;\n          return user.save();\n        case 16:\n          res.status(200).send({\n            success: true,\n            address: user.address,\n            default_address: user.default_address\n          });\n        case 17:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17);\n  }));\n  return function (_x44, _x45, _x46) {\n    return _ref19.apply(this, arguments);\n  };\n}())];\nvar deleteAddress = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(req, res, next) {\n    var id, userId, _yield$Promise$all3, _yield$Promise$all4, address, user;\n    return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n      while (1) switch (_context18.prev = _context18.next) {\n        case 0:\n          id = req.params.id;\n          userId = req.session.passport.user;\n          _context18.next = 4;\n          return Promise.all([_Models_address_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].findByIdAndDelete(id), _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(userId, {\n            $pull: {\n              address: id\n            }\n          }, {\n            runValidators: true,\n            \"new\": true,\n            select: {\n              password: 0\n            }\n          }).populate('address').exec()]);\n        case 4:\n          _yield$Promise$all3 = _context18.sent;\n          _yield$Promise$all4 = _slicedToArray(_yield$Promise$all3, 2);\n          address = _yield$Promise$all4[0];\n          user = _yield$Promise$all4[1];\n          if (!(user.default_address.shipping_address == address.id)) {\n            _context18.next = 12;\n            break;\n          }\n          user.default_address = {\n            shipping_address: null,\n            billing_address: null\n          };\n          _context18.next = 12;\n          return user.save();\n        case 12:\n          res.status(200).send({\n            success: true,\n            address: user.address\n          });\n        case 13:\n        case \"end\":\n          return _context18.stop();\n      }\n    }, _callee18);\n  }));\n  return function (_x47, _x48, _x49) {\n    return _ref20.apply(this, arguments);\n  };\n}())];\nvar editAddress = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, _utils_addressValidator_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"], express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(req, res, next) {\n    var result, id, newResult, user, isUserAddress;\n    return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n      while (1) switch (_context19.prev = _context19.next) {\n        case 0:\n          result = (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.validationResult)(req);\n          id = req.params.id;\n          if (result.isEmpty()) {\n            _context19.next = 5;\n            break;\n          }\n          newResult = (0,_utils_errorRegenerator_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(result);\n          return _context19.abrupt(\"return\", res.status(400).send(newResult));\n        case 5:\n          _context19.next = 7;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(req.session.passport.user, {\n            address: 1\n          });\n        case 7:\n          user = _context19.sent;\n          isUserAddress = user.address.some(function (item) {\n            return item.toString() == id;\n          });\n          if (isUserAddress) {\n            _context19.next = 11;\n            break;\n          }\n          return _context19.abrupt(\"return\", res.status(404).send({\n            notFound: true\n          }));\n        case 11:\n          if (!isUserAddress) {\n            _context19.next = 15;\n            break;\n          }\n          _context19.next = 14;\n          return _Models_address_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].findByIdAndUpdate(id, _objectSpread({}, req.body), {\n            \"new\": true\n          });\n        case 14:\n          return _context19.abrupt(\"return\", res.redirect(303, '/api/user/userData'));\n        case 15:\n        case \"end\":\n          return _context19.stop();\n      }\n    }, _callee19);\n  }));\n  return function (_x50, _x51, _x52) {\n    return _ref21.apply(this, arguments);\n  };\n}())];\nvar updatePreferences = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(req, res, next) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n      while (1) switch (_context20.prev = _context20.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _context20.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(userId, {\n            contact_preferences: req.body\n          }, {\n            \"new\": true,\n            upsert: true\n          });\n        case 3:\n          user = _context20.sent;\n          res.status(200).send({\n            msg: 'User contact preferences successfully updates'\n          });\n        case 5:\n        case \"end\":\n          return _context20.stop();\n      }\n    }, _callee20);\n  }));\n  return function (_x53, _x54, _x55) {\n    return _ref22.apply(this, arguments);\n  };\n}())];\nvar updateDefaultAddress = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(req, res, next) {\n    var body, property, value, userId, user;\n    return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n      while (1) switch (_context21.prev = _context21.next) {\n        case 0:\n          body = req.body;\n          property = Object.keys(body)[0];\n          value = Object.values(body)[0];\n          userId = req.session.passport.user;\n          _context21.next = 6;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(userId, {\n            $set: _defineProperty({}, \"default_address.\".concat(property), value)\n          }, {\n            \"new\": true,\n            upsert: true,\n            select: {\n              default_address: 1\n            }\n          });\n        case 6:\n          user = _context21.sent;\n          return _context21.abrupt(\"return\", res.status(200).send({\n            msg: \"succussfully update user default \".concat(property.replaceAll('_', ' '), \".\"),\n            default_address: user.default_address\n          }));\n        case 8:\n        case \"end\":\n          return _context21.stop();\n      }\n    }, _callee21);\n  }));\n  return function (_x56, _x57, _x58) {\n    return _ref23.apply(this, arguments);\n  };\n}())];\nvar addPaymentMethod = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('logo').escape().trim(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('description').escape().trim(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('alt').escape().trim(), (0,express_validator__WEBPACK_IMPORTED_MODULE_8__.check)('text').escape().trim(), express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref24 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(req, res, next) {\n    var userId, user;\n    return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n      while (1) switch (_context22.prev = _context22.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _context22.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(userId, {\n            $push: {\n              payment_methods: _objectSpread({\n                id: new (mongoose__WEBPACK_IMPORTED_MODULE_18___default().Types).ObjectId()\n              }, req.body)\n            }\n          }, {\n            upsert: true,\n            \"new\": true,\n            select: {\n              payment_methods: 1\n            }\n          });\n        case 3:\n          user = _context22.sent;\n          res.status(200).send({\n            msg: 'payment method successfully added',\n            payment_methods: user.payment_methods\n          });\n        case 5:\n        case \"end\":\n          return _context22.stop();\n      }\n    }, _callee22);\n  }));\n  return function (_x59, _x60, _x61) {\n    return _ref24.apply(this, arguments);\n  };\n}())];\nvar deletePaymentMethod = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(req, res, next) {\n    var id, userId;\n    return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n      while (1) switch (_context23.prev = _context23.next) {\n        case 0:\n          id = req.params.id;\n          userId = req.session.passport.user;\n          _context23.next = 4;\n          return stripe.paymentMethods.detach(id);\n        case 4:\n          res.redirect(303, '/api/user/payment-method/all');\n          // const user = await User.findByIdAndUpdate(\n          //   userId,\n          //   {\n          //     $pull: {\n          //       payment_methods: { _id: id },\n          //     },\n          //   },\n          //   { upsert: true, new: true, select: { payment_methods: 1 } },\n          // );\n          // console.log({ payment_methods: user.payment_methods });\n          // res.status(200).send({\n          //   msg: 'payment method successfully added',\n          //   payment_methods: user.payment_methods,\n          // });\n        case 5:\n        case \"end\":\n          return _context23.stop();\n      }\n    }, _callee23);\n  }));\n  return function (_x62, _x63, _x64) {\n    return _ref25.apply(this, arguments);\n  };\n}())];\nvar changeDefaultMethod = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref26 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(req, res, next) {\n    var id, userId, customer;\n    return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n      while (1) switch (_context24.prev = _context24.next) {\n        case 0:\n          id = req.params.id;\n          userId = req.session.passport.user;\n          _context24.next = 4;\n          return stripe.customers.update(userId, {\n            invoice_settings: {\n              default_payment_method: id\n            }\n          });\n        case 4:\n          customer = _context24.sent;\n          res.redirect(303, '/api/user/payment-method/all');\n        case 6:\n        case \"end\":\n          return _context24.stop();\n      }\n    }, _callee24);\n  }));\n  return function (_x65, _x66, _x67) {\n    return _ref26.apply(this, arguments);\n  };\n}())];\nvar saveCustomerCard = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref27 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(req, res, next) {\n    var userId, findCustomer, allCustomers, checkExists, setupIntent, customer;\n    return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n      while (1) switch (_context25.prev = _context25.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _context25.next = 3;\n          return stripe.customers.list();\n        case 3:\n          findCustomer = _context25.sent;\n          allCustomers = findCustomer.data;\n          checkExists = allCustomers.some(function (item) {\n            return item.id == userId;\n          });\n          setupIntent = null;\n          if (!checkExists) {\n            _context25.next = 13;\n            break;\n          }\n          _context25.next = 10;\n          return stripe.setupIntents.create({\n            customer: userId,\n            payment_method_types: ['card']\n          });\n        case 10:\n          setupIntent = _context25.sent;\n          _context25.next = 19;\n          break;\n        case 13:\n          _context25.next = 15;\n          return stripe.customers.create({\n            id: userId,\n            name: \"\".concat(req.user.firstName, \" \").concat(req.user.lastName),\n            email: req.user.email\n          });\n        case 15:\n          customer = _context25.sent;\n          _context25.next = 18;\n          return stripe.setupIntents.create({\n            customer: userId,\n            payment_method_types: ['card']\n          });\n        case 18:\n          setupIntent = _context25.sent;\n        case 19:\n          res.send({\n            success: true,\n            id: setupIntent.id,\n            client_secret: setupIntent.client_secret\n          });\n        case 20:\n        case \"end\":\n          return _context25.stop();\n      }\n    }, _callee25);\n  }));\n  return function (_x68, _x69, _x70) {\n    return _ref27.apply(this, arguments);\n  };\n}())];\nvar getPaymentMethods = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref28 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(req, res, next) {\n    var _customer$invoice_set;\n    var userId, paymentMethods, customer, defaultPaymentMethod, newMethodsArray;\n    return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n      while (1) switch (_context26.prev = _context26.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _context26.next = 3;\n          return stripe.paymentMethods.list({\n            customer: req.session.passport.user\n          });\n        case 3:\n          paymentMethods = _context26.sent;\n          _context26.next = 6;\n          return stripe.customers.retrieve(userId);\n        case 6:\n          customer = _context26.sent;\n          defaultPaymentMethod = (_customer$invoice_set = customer.invoice_settings) === null || _customer$invoice_set === void 0 ? void 0 : _customer$invoice_set.default_payment_method;\n          newMethodsArray = paymentMethods.data.map(function (method) {\n            if (method.type === 'card') {\n              var _method$card = method === null || method === void 0 ? void 0 : method.card,\n                brand = _method$card.brand,\n                exp_month = _method$card.exp_month,\n                exp_year = _method$card.exp_year,\n                last4 = _method$card.last4,\n                funding = _method$card.funding;\n              var newMonth = '0' + exp_month;\n              return {\n                id: method.id,\n                brand: brand[0].toUpperCase() + brand.slice(1),\n                exp_month: newMonth.slice(-2),\n                exp_year: exp_year,\n                last4: last4,\n                type: 'card',\n                funding: funding[0].toUpperCase() + funding.slice(1),\n                name: method.billing_details.name\n              };\n            }\n            if (method.type === 'paypal') {\n              return {\n                id: method.id,\n                type: method.type,\n                text: 'PayPal'\n              };\n            }\n            return {\n              id: method.id,\n              type: method.type,\n              text: method.type\n            };\n          }).sort(function (a, b) {\n            if (a.id === defaultPaymentMethod) {\n              return -1;\n            }\n            if (b.id === defaultPaymentMethod) {\n              return +1;\n            }\n            return 0;\n          });\n          return _context26.abrupt(\"return\", res.status(200).send({\n            success: true,\n            paymentMethods: newMethodsArray\n          }));\n        case 10:\n        case \"end\":\n          return _context26.stop();\n      }\n    }, _callee26);\n  }));\n  return function (_x71, _x72, _x73) {\n    return _ref28.apply(this, arguments);\n  };\n}())];\nvar setUpPaypal = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref29 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(req, res, next) {\n    var userId, session;\n    return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n      while (1) switch (_context27.prev = _context27.next) {\n        case 0:\n          userId = req.session.passport.user;\n          _context27.next = 3;\n          return stripe.checkout.sessions.create({\n            payment_method_types: ['paypal'],\n            mode: 'setup',\n            customer: userId,\n            success_url: \"\".concat(CLIENT_URL, \"/my-account/payment-methods/\"),\n            cancel_url: \"\".concat(CLIENT_URL, \"/my-account/payment-methods/cancel?session_id={CHECKOUT_SESSION_ID}\")\n          });\n        case 3:\n          session = _context27.sent;\n          res.send({\n            success: true,\n            url: session.url\n          });\n        case 5:\n        case \"end\":\n          return _context27.stop();\n      }\n    }, _callee27);\n  }));\n  return function (_x74, _x75, _x76) {\n    return _ref29.apply(this, arguments);\n  };\n}())];\nvar setUpKlarna = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref30 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(req, res, next) {\n    var userId, _req$user, email, firstName, lastName, name, paymentMethod, attachPaymentMethod;\n    return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n      while (1) switch (_context28.prev = _context28.next) {\n        case 0:\n          userId = req.session.passport.user; // const session = await stripe.checkout.sessions.create({\n          //   payment_method_types: ['klarna','afterpay_clearpay'],\n          //   shipping_address_collection: { allowed_countries: ['GB', 'US'] },\n          //   line_items: [\n          //     {\n          //       price_data: {\n          //         currency: 'gbp',\n          //         product_data: {\n          //           name: 'Setup Klarna For Future Use',\n          //         },\n          //          unit_amount:100,\n          //       },\n          //       quantity: 1,\n          //     },\n          //   ],\n          //   mode: 'payment',\n          //   customer: userId,\n          //   success_url: `${CLIENT_URL}/my-account/payment-methods/`,\n          //   cancel_url: `${CLIENT_URL}/my-account/payment-methods/cancel?session_id={CHECKOUT_SESSION_ID}`,\n          // });\n          // res.send({ success: true, url: session.url });\n          _req$user = req.user, email = _req$user.email, firstName = _req$user.firstName, lastName = _req$user.lastName;\n          name = \"\".concat(firstName, \" \").concat(lastName);\n          _context28.next = 5;\n          return stripe.paymentMethods.create({\n            type: 'afterpay_clearpay',\n            billing_details: {\n              address: {\n                line1: 'null',\n                country: 'GB',\n                postal_code: 'null'\n              },\n              name: name,\n              email: email\n            }\n            // klarna: {\n            //   dob: {\n            //     day: 22,\n            //     month: 3,\n            //     year: 2002,\n            //   },\n            // },\n          });\n        case 5:\n          paymentMethod = _context28.sent;\n          _context28.next = 8;\n          return stripe.paymentMethods.attach(paymentMethod.id, {\n            customer: userId\n          });\n        case 8:\n          attachPaymentMethod = _context28.sent;\n          res.status(200).send({\n            success: true\n          });\n        case 10:\n        case \"end\":\n          return _context28.stop();\n      }\n    }, _callee28);\n  }));\n  return function (_x77, _x78, _x79) {\n    return _ref30.apply(this, arguments);\n  };\n}())];\nvar getOrders = [_middleware_checkAuthenticated_js__WEBPACK_IMPORTED_MODULE_13__.checkAuthenticated, express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/function () {\n  var _ref31 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29(req, res, next) {\n    var userId, getUserOrder;\n    return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n      while (1) switch (_context29.prev = _context29.next) {\n        case 0:\n          userId = req.session.passport.user; // const getUserOrder = await User.findOne({ _id: userId }, null, {\n          //   projection: { orders: 1 },\n          //   populate: 'orders',\n          // });\n          _context29.next = 3;\n          return _Models_order_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"].find({\n            customer: userId\n          }, null, {\n            lean: true\n          }).populate('items.product').exec();\n        case 3:\n          getUserOrder = _context29.sent;\n          return _context29.abrupt(\"return\", res.status(200).send({\n            success: true,\n            orders: getUserOrder\n          }));\n        case 5:\n        case \"end\":\n          return _context29.stop();\n      }\n    }, _callee29);\n  }));\n  return function (_x80, _x81, _x82) {\n    return _ref31.apply(this, arguments);\n  };\n}())];\n\n//# sourceURL=webpack://server/./Controllers/userController.js?");

/***/ }),

/***/ "./Models/address.js":
/*!***************************!*\
  !*** ./Models/address.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar AddressSchema = new Schema({\n  userId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Users',\n    required: true\n  },\n  firstName: {\n    type: Schema.Types.String,\n    required: true\n  },\n  lastName: {\n    type: Schema.Types.String,\n    required: true\n  },\n  address_1: {\n    type: Schema.Types.String,\n    required: true\n  },\n  address_2: {\n    type: Schema.Types.String\n  },\n  city: {\n    type: Schema.Types.String,\n    required: true\n  },\n  county: {\n    type: Schema.Types.String\n  },\n  postCode: {\n    type: Schema.Types.String,\n    required: true\n  },\n  mobile: {\n    type: Schema.Types.Number,\n    required: true\n  },\n  country: {\n    type: Schema.Types.String,\n    required: true\n  }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('address', AddressSchema));\n\n//# sourceURL=webpack://server/./Models/address.js?");

/***/ }),

/***/ "./Models/category.js":
/*!****************************!*\
  !*** ./Models/category.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar CategorySchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  // products: [{ type: Schema.Types.String }],\n  men: [{\n    type: Schema.Types.ObjectId,\n    ref: 'product'\n  }],\n  women: [{\n    type: Schema.Types.ObjectId,\n    ref: 'product'\n  }]\n}, {\n  strictPopulate: false\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('category', CategorySchema));\n\n//# sourceURL=webpack://server/./Models/category.js?");

/***/ }),

/***/ "./Models/coupon.js":
/*!**************************!*\
  !*** ./Models/coupon.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar tomorrowDate = new Date();\ntomorrowDate.setDate(tomorrowDate.getDate() + 1);\nvar couponSchema = new Schema({\n  code: {\n    type: String,\n    unique: true,\n    required: true,\n    min: [6, 'the coupon/gift card must be between 6 and 16 character'],\n    max: [16, 'the coupon/gift card must be between 6 and 16 character']\n  },\n  expires: {\n    type: Schema.Types.Date,\n    \"default\": tomorrowDate\n  },\n  amount: Schema.Types.Mixed,\n  type: {\n    type: Schema.Types.String,\n    \"default\": 'fixed'\n  },\n  total_use: {\n    type: Schema.Types.Number,\n    dafault: 5\n  }\n});\ncouponSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoServerError' && error.code === 11000) {\n    next(new Error(\"Coupon \".concat(doc.code, \" already Exists\")));\n  } else {\n    next();\n  }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('coupon', couponSchema));\n\n//# sourceURL=webpack://server/./Models/coupon.js?");

/***/ }),

/***/ "./Models/deliveryProfile.js":
/*!***********************************!*\
  !*** ./Models/deliveryProfile.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar DeliveryProfileSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n  name: {\n    type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.String,\n    required: [true, \"You didn't provide a name for your delivery profile. Please enter a name\"],\n    unique: [true, 'err']\n  },\n  cost: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Number,\n  processingTime: {\n    type: {\n      type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.String,\n      \"enum\": {\n        values: ['days', 'weeks']\n      },\n      \"default\": 'days'\n    },\n    start: {\n      type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Number,\n      required: [true, \"You didn't enter a start day for your profile. Please enter a start date\"]\n    },\n    end: {\n      type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.Number,\n      required: [true, \"You didn't enter a end day for your profile. Please enter an end date\"]\n    }\n  }\n});\nDeliveryProfileSchema.pre('updateOne', function (next) {\n  this.options.runValidators = true;\n  next();\n});\nDeliveryProfileSchema.path('processingTime.start').validate(function (value) {\n  var time = this.get('processingTime');\n  return value < time.end;\n}, 'Your start day or week must be less than end day');\nDeliveryProfileSchema.post('save', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, doc, next) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(error.name === 'MongoServerError' && error.code === 11000)) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\", next(new Error(\"There is already a delivery profile with name \".concat(doc.code, \". Please use another name!\"))));\n        case 2:\n          return _context.abrupt(\"return\", next());\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('deliveryProfile', DeliveryProfileSchema));\n\n//# sourceURL=webpack://server/./Models/deliveryProfile.js?");

/***/ }),

/***/ "./Models/giftCard.js":
/*!****************************!*\
  !*** ./Models/giftCard.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar GiftCardSchema = new Schema({\n  code: {\n    type: String,\n    required: true,\n    unique: true,\n    minlength: [6, 'the coupon/gift card must be between 6 and 16 character'],\n    maxlength: [16, 'the coupon/gift card must be between 6 and 16 character']\n  },\n  expires: Schema.Types.Date,\n  amount: {\n    type: Schema.Types.Number,\n    min: [5, 'Gift Card moust be 5 or over']\n  },\n  type: {\n    type: Schema.Types.String,\n    \"default\": 'fixed'\n  }\n});\nGiftCardSchema.pre('save', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(next) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          this.code = this.code.toUpperCase();\n          if (!(this.code.substring(0, 3) != 'gl-'.toUpperCase())) {\n            _context.next = 6;\n            break;\n          }\n          this.code = \"GL-\".concat(this.code);\n          return _context.abrupt(\"return\", next());\n        case 6:\n          next();\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, this);\n  }));\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\nGiftCardSchema.post('save', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, doc, next) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (error.name === 'MongoServerError' && error.code === 11000) {\n            next(new Error(\"GiftCard \".concat(doc.code, \" already Exists\")));\n          } else {\n            next();\n          }\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x2, _x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('giftCard', GiftCardSchema));\n\n//# sourceURL=webpack://server/./Models/giftCard.js?");

/***/ }),

/***/ "./Models/order.js":
/*!*************************!*\
  !*** ./Models/order.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar enum_states = {\n  values: ['received', 'shipped', 'delivered', 'cancelled', 'processing'],\n  message: 'enum validator failed value `VALUE`, please ensure value is of any of the following: received, shipped, delivered, cancelled, '\n};\nvar OrderSchema = new Schema({\n  _id: {\n    type: Schema.Types.String,\n    required: true,\n    unique: true\n  },\n  items: [{\n    product: {\n      type: Schema.Types.ObjectId,\n      ref: 'product'\n    },\n    quantity: {\n      type: Schema.Types.Number\n    },\n    isVariation1Present: {\n      type: Schema.Types.Boolean\n    },\n    isVariation2Present: {\n      type: Schema.Types.Boolean\n    },\n    isVariationCombine: {\n      type: Schema.Types.Boolean\n    },\n    variation1: {\n      type: Schema.Types.Mixed\n    },\n    variation2: {\n      type: Schema.Types.Mixed\n    },\n    price: {\n      type: Schema.Types.Number\n    }\n  }],\n  createdAt: {\n    type: Schema.Types.Date,\n    \"default\": Date.now\n  },\n  status: {\n    type: Schema.Types.String,\n    \"enum\": enum_states,\n    required: true\n    // default: 'recieved',\n  },\n  customer: {\n    type: Schema.Types.ObjectId,\n    ref: 'Users',\n    required: true\n  },\n  shipping_address: {\n    type: Schema.Types.Mixed\n  },\n  billing_address: {\n    type: Schema.Types.Mixed\n  },\n  transaction_cost: {\n    total: {\n      type: Schema.Types.Number\n    },\n    subtotal: {\n      type: Schema.Types.Number\n    }\n  },\n  shipping_option: {\n    cost: {\n      type: Schema.Types.Number\n    },\n    delivery_date: {\n      type: Schema.Types.String\n    }\n  },\n  //   address: {\n  //     type: Schema.Types.Mixed,\n  //   },\n  //   transaction_cost: { type: Schema.Types.Number },\n\n  cartObj: {\n    type: Schema.Types.Mixed,\n    ref: 'product'\n  },\n  cartIds: [{\n    type: Schema.Types.String\n  }]\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('order', OrderSchema));\n\n//# sourceURL=webpack://server/./Models/order.js?");

/***/ }),

/***/ "./Models/product.js":
/*!***************************!*\
  !*** ./Models/product.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar variationSchema = new Schema({\n  name: {\n    type: String\n  },\n  options: {\n    type: Schema.Types.Map\n  },\n  \"default\": Boolean,\n  quantityHeader: Object,\n  priceHeader: Object,\n  combine: Schema.Types.Boolean,\n  on: Boolean,\n  name2: String\n}, {\n  strict: false,\n  virtuals: true\n});\nvariationSchema.virtual('id').get(function () {\n  return this._id.toHexString();\n});\nvariationSchema.set('toJSON', {\n  virtuals: true\n});\nvar productSchema = new Schema({\n  title: {\n    type: Schema.Types.String,\n    maxlength: [140, 'Title must be under 140 characters']\n  },\n  category: {\n    type: Schema.Types.ObjectId,\n    ref: 'category',\n    required: true\n  },\n  price: {\n    type: Schema.Types.Mixed\n  },\n  stock: {\n    type: Schema.Types.Number\n  },\n  gender: {\n    type: Schema.Types.String,\n    \"enum\": {\n      values: ['men', 'women'],\n      message: ['{VALUE} is not support, only men or women is allowed']\n    }\n  },\n  detail: {\n    type: Schema.Types.Array,\n    required: true,\n    maxlength: [400, 'Details must be under 200 characters']\n  },\n  // color: [{ type: Schema.Types.String }],\n  // size: { type: Schema.Types.Array, default: [] },\n  variations: [variationSchema],\n  images: {\n    type: Schema.Types.Array,\n    \"default\": []\n  },\n  reviews: [{\n    type: Schema.Types.ObjectId,\n    ref: 'product_review'\n  }],\n  delivery: [{\n    type: Schema.Types.ObjectId,\n    ref: 'deliveryProfile'\n  }]\n}, {\n  strict: false,\n  toObject: {\n    virtuals: true\n  },\n  toJSON: {\n    virtuals: true\n  }\n});\nproductSchema.virtual('id');\nproductSchema.virtual('minVariationPrice', {\n  localField: 'id',\n  foreignField: 'id'\n}).get(function () {\n  var minVariationPrice = 10000000;\n  var variations = this.variations;\n  variations.map(function (item) {\n    if (item.priceHeader.on) {\n      var options = item.options;\n      var _iterator = _createForOfIteratorHelper(options),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            value = _step$value[1];\n          minVariationPrice = Math.min(minVariationPrice, value === null || value === void 0 ? void 0 : value.price);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  });\n  if (minVariationPrice == 10000000) {\n    return null;\n  }\n  return parseFloat(minVariationPrice).toFixed(2);\n});\nproductSchema.virtual('isSizePresent').get(function () {\n  var variations = this.variations;\n  var isPresent = false;\n  variations.map(function (variation) {\n    if (variation.name == 'Size') {\n      isPresent = true;\n    }\n  });\n  return isPresent;\n});\nproductSchema.virtual('isColorPresent').get(function () {\n  var variations = this.variations;\n  var isPresent = false;\n  variations.map(function (variation) {\n    if (variation.name == 'Colour') {\n      isPresent = true;\n    }\n  });\n  return isPresent;\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('product', productSchema));\n\n//# sourceURL=webpack://server/./Models/product.js?");

/***/ }),

/***/ "./Models/user.js":
/*!************************!*\
  !*** ./Models/user.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/relativeTime.js */ \"dayjs/plugin/relativeTime.js\");\n/* harmony import */ var dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_1___default().extend((dayjs_plugin_relativeTime_js__WEBPACK_IMPORTED_MODULE_2___default()));\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nvar UserSchema = new Schema({\n  firstName: {\n    type: String,\n    required: 'First Name is required. Please enter your first Name.'\n  },\n  lastName: {\n    type: String,\n    required: 'Last Name is required. Please enter your Last Name.'\n  },\n  email: {\n    type: String,\n    required: 'Email is required. Please enter your Email.',\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true,\n    minlength: 10\n  },\n  dob: {\n    type: Date,\n    required: 'DOB is required. Please enter date of birth.',\n    // max: '2003-09-09',\n    validate: {\n      validator: function validator(v) {\n        var today = dayjs__WEBPACK_IMPORTED_MODULE_1___default()();\n        var difference = today.diff(dayjs__WEBPACK_IMPORTED_MODULE_1___default()(v), 'year');\n        return difference >= 18;\n      },\n      message: 'Must be 18 years old or older.'\n    }\n  },\n  interest: {\n    type: String,\n    \"enum\": {\n      values: ['menswear', 'womenswear'],\n      message: '{VALUE} is not support, only Menswear or Womenswear is allowed.'\n    },\n    required: 'Interest is required. Please enter your Interest.'\n  },\n  profileImg: String,\n  address: [{\n    type: Schema.Types.ObjectId,\n    ref: 'address'\n  }],\n  default_address: {\n    shipping_address: {\n      type: Schema.Types.ObjectId,\n      ref: 'address'\n    },\n    billing_address: {\n      type: Schema.Types.ObjectId,\n      ref: 'address'\n    }\n  },\n  payment_methods: [{\n    logo: {\n      type: Schema.Types.String\n    },\n    alt: {\n      type: Schema.Types.String\n    },\n    description: {\n      type: Schema.Types.String\n    },\n    text: {\n      type: Schema.Types.String\n    },\n    index: {\n      type: Schema.Types.Number\n    }\n  }],\n  orders: [{\n    type: Schema.Types.String,\n    ref: 'order'\n  }],\n  mobile: {\n    type: Schema.Types.String\n  },\n  contact_preferences: {\n    discount_newDrops: {\n      email: {\n        type: Schema.Types.Boolean,\n        \"default\": false\n      },\n      text: {\n        type: Schema.Types.Boolean,\n        \"default\": false\n      }\n    },\n    stockAlert: {\n      email: {\n        type: Schema.Types.Boolean,\n        \"default\": false\n      }\n    }\n  }\n}, {\n  toJSON: {\n    virtuals: true\n  },\n  toObject: {\n    virtuals: true\n  }\n});\nUserSchema.virtual('id').get(function () {\n  return this._id.toHexString();\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Users', UserSchema));\n\n//# sourceURL=webpack://server/./Models/user.js?");

/***/ }),

/***/ "./React Email/test.jsx":
/*!******************************!*\
  !*** ./React Email/test.jsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Test)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-email/components */ \"@react-email/components\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_react_email_components__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n\n\nfunction Test(props) {\n  console.log({\n    props: props\n  });\n  var firstName = props.firstName;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Html, {\n    lang: \"en\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Head, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Tailwind, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Body, {\n    \"data-new-gr-c-s-loaded\": \"14.1143.0\",\n    style: {\n      width: '100%',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      WebkitTextSizeAdjust: '100%',\n      MsTextSizeAdjust: '100%',\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    dir: \"ltr\",\n    className: \"es-wrapper-color\",\n    lang: \"EN\",\n    style: {\n      backgroundColor: '#f6f6f6'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"es-wrapper\",\n    width: \"100%\",\n    cellSpacing: \"0\",\n    cellPadding: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px',\n      padding: '0',\n      margin: '0',\n      width: '100%',\n      height: '100%',\n      backgroundRepeat: 'repeat',\n      backgroundPosition: 'center top',\n      backgroundColor: '#f6f6f6'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    valign: \"top\",\n    style: {\n      padding: 0,\n      margin: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"es-header\",\n    cellSpacing: \"0\",\n    cellPadding: \"0\",\n    align: \"center\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px',\n      tableLayout: 'fixed !important',\n      width: '100%',\n      backgroundColor: 'transparent',\n      backgroundRepeat: 'repeat',\n      backgroundPosition: 'center top'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      padding: 0,\n      margin: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"es-header-body\",\n    cellSpacing: \"0\",\n    cellPadding: \"0\",\n    bgcolor: \"#eee\",\n    align: \"center\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px',\n      backgroundColor: '#eeeeee',\n      width: '600px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '600px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    bgcolor: \"#2d2d2d\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px',\n      backgroundColor: '#2d2d2d'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/glamo_2SY.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      msInterpolationMode: 'bicubic',\n      width: '100px',\n      margin: '0px auto',\n      padding: '20px'\n    },\n    alt: \"Logo\"\n  }))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '20px',\n      paddingLeft: '20px',\n      paddingRight: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8box64.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      msInterpolationMode: 'bicubic',\n      width: '30px',\n      height: '30px',\n      margin: '0px auto'\n    },\n    alt: \"Icon\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '15px',\n      paddingBottom: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '17px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, \"IT\\u2019S ORDERED!\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, null, ' ', \"Hi \", firstName, \", your order has been received.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, null, \"Order No.: \", props.orderNumber), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, null, \"Order date: \", props.orderDate))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '20px',\n      paddingLeft: '20px',\n      paddingRight: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingTop: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"DELIVERY DETAILS\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingBottom: '20px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '2px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingBottom: '25px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"DELIVERY ADDRESS\")))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '20px',\n      paddingLeft: '20px',\n      paddingRight: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingTop: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, \"YOUR ORDER\"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingBottom: '10px',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '2px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: '#008000'\n    }\n  }, \"Estimated delivery date: Thursday 07 December 2023\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#000000',\n      fontSize: '14px'\n    }\n  }, \"Delivery method: Standard Delivery\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    style: {\n      background: '#ffffff',\n      padding: '20px',\n      width: '100%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      width: '100px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Img, {\n    src: 'https://ci4.googleusercontent.com/proxy/ovLwDaQffyvxXsj5hpaFkC-lx9miC2-qAfHkG_gEz46F92nVi0PCx92dJX2Y56Z1L4kY_POV4fFq8ziKpD7nzoUqc1MYDE3ZCQ1-xAYgt0keAwRnMX4=s0-d-e1-ft#https://images.asos-media.com/products/image/205321575-1-washedteal',\n    className: \"border-none outline-none w-[100px] h-[140px]\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      verticalAlign: 'top'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Section, {\n    className: \"ml-4 w-full h-full text-s\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, {\n    className: \"text-xs\"\n  }, \"Reclaimed Vintage waffle beanie in washed teal\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, {\n    className: \"text-xs\"\n  }, \"\\xA36.99\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, {\n    className: \"text-xs\"\n  }, \"WASHED TEAL / One Size / Qty 1\")))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingBottom: '10px',\n      paddingLeft: '20px',\n      paddingRight: '20px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '1px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    className: \"total-table\",\n    style: {\n      background: 'white',\n      width: '100%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    className: \"font-md\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-left font-md font-bold text-dark-gray py-5 px-1 text-s\"\n  }, \"SUB-TOTAL\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-right text-md\"\n  }, \"\\xA36.9\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    className: \"font-md\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-left font-md font-bold text-dark-gray py-5 px-1\"\n  }, \"DELIVERY\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-right py-5 px-1\"\n  }, \"\\xA34.50\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    className: \"w-full\",\n    style: {\n      alignItems: 'center',\n      width: '100%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    colSpan: \"2\",\n    className: \"w-full\",\n    style: {\n      borderBottom: '2px solid #cccccc',\n      textAlign: 'center',\n      paddingLeft: '20px',\n      boxSizing: 'content-box'\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", {\n    className: \"font-md\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-left font-bold py-5 px-1\"\n  }, \"TOTAL\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    className: \"text-right font-bold py-5 px-1\"\n  }, \"\\xA311.59\"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingBottom: '10px',\n      paddingLeft: '20px',\n      paddingRight: '20px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '1px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      background: 'white',\n      padding: '0px 20px 20px 20px',\n      fontWeight: 'bold',\n      display: 'flex',\n      justifyContent: 'space-between',\n      width: '100%',\n      boxSizing: 'border-box'\n    }\n  }, \"TOTAL\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: 'black',\n      letterSpacing: '0.05em'\n    }\n  }, \"\\xA311.59\")))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '20px',\n      paddingLeft: '20px',\n      paddingRight: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingTop: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"PAYMENT DETAILS\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingBottom: '20px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '2px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"PAYMENT TYPE\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#ffffff',\n      display: 'flex',\n      gap: '0px 5px',\n      padding: '20px 20px 30px 20px',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://img.icons8.com/color/48/paypal.png\",\n    style: {\n      display: 'block',\n      border: '1px solid #eee',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '24px',\n      height: '24px',\n      objectFit: 'cover'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, \"PayPal\")))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '20px',\n      paddingLeft: '20px',\n      paddingRight: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingTop: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"CHANGED YOUR MIND?\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      margin: '0',\n      paddingTop: '10px',\n      paddingLeft: '15px',\n      paddingRight: '15px',\n      paddingBottom: '20px',\n      fontSize: '0'\n    },\n    bgcolor: \"#ffffff\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    border: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: _defineProperty({\n      padding: '0',\n      margin: '0',\n      borderBottom: '2px solid #cccccc',\n      background: 'unset',\n      height: '1px',\n      width: '100%'\n    }, \"margin\", '0px')\n  }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, \"CANCELLING AN ORDER\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: '#000000'\n    }\n  }, \"We\\u2019re not able to make changes to your order, but you do have the option to cancel it.\", ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n    href: \"\",\n    target: \"_blank\",\n    style: {\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      textDecoration: 'underline',\n      color: '#000000',\n      fontSize: '14px'\n    }\n  }, \"Find out more\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: '#000000'\n    }\n  }, \". Go to your order from the button below and follow the instructions.\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0px',\n      margin: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#ffffff',\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%',\n      padding: '20px 0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    style: {\n      background: 'transparent',\n      padding: '10px 0px',\n      border: '2px solid #eee',\n      fontWeight: '600',\n      letterSpacing: '0.05em',\n      width: '50%'\n    }\n  }, \"VIEW ORDER\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0px',\n      margin: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#ffffff'\n    }\n  })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: '0',\n      margin: '0',\n      width: '560px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    bgcolor: \"#ffffff\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '15px',\n      paddingRight: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, \"RETURNING AN ORDER\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: 'arial, helvetica neue, helvetica, sans-serif',\n      lineHeight: '21px',\n      color: '#808080',\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: '#000000'\n    }\n  }), \"You also have the option to return any unwanted items by Monday 15 January 2024*. However, for hygiene reasons, there are some items that we can\\u2019t accept back and these will be sent back to you.\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      color: '#000000'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#ffffff',\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%',\n      padding: '20px 0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    style: {\n      background: 'transparent',\n      padding: '10px 0px',\n      border: '2px solid #eee',\n      fontWeight: '600',\n      letterSpacing: '0.05em',\n      width: '50%'\n    }\n  }, \"RETURN INFORMATION\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#ffffff'\n    }\n  }))))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"left\",\n    style: {\n      padding: 0,\n      margin: 0\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    valign: \"top\",\n    style: {\n      padding: 0,\n      margin: 0,\n      width: '600px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    cellPadding: \"0\",\n    cellSpacing: \"0\",\n    width: \"100%\",\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    align: \"center\",\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingTop: '15px',\n      paddingBottom: '15px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '18px',\n      color: '#333333',\n      fontSize: '12px'\n    }\n  }, \"Thanks,\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '18px',\n      color: '#333333',\n      fontSize: '12px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, \"The GLAMO team\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      background: '#dedfe4',\n      padding: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      letterSpacing: '0.05em'\n    }\n  }, \"ANY QUESTIONS?\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px'\n    }\n  }, \"For everything else you want to know\\u2026\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"top\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      gap: '0px 40px',\n      paddingTop: '20px',\n      marginBottom: '5px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: '0px 5px',\n      alignItems: 'center',\n      flex: '1 1 0%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8duplicate96.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '20px',\n      height: '20px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textDecoration: 'underline',\n      textUnderlineOffset: '2px'\n    }\n  }, \"Payment, Promos & Gift Vouchers\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: '0px 5px',\n      alignItems: 'center',\n      flex: '1 1 0%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8duplicate96.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '20px',\n      height: '20px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textDecoration: 'underline',\n      textUnderlineOffset: '2px'\n    }\n  }, \"Order issues\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"bottom\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      gap: '0px 40px',\n      paddingBottom: '20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: '0px 5px',\n      alignItems: 'center',\n      flex: '1 1 0%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8duplicate96.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '20px',\n      height: '20px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textDecoration: 'underline',\n      textUnderlineOffset: '2px'\n    }\n  }, \"Delivery\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      gap: '0px 5px',\n      alignItems: 'center',\n      flex: '1 1 0%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8duplicate96.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '20px',\n      height: '20px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      msTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '21px',\n      color: '#333333',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      textDecoration: 'underline',\n      textUnderlineOffset: '2px'\n    }\n  }, \"Customer Care1\")))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", {\n    style: {\n      background: '#2d2d2d',\n      color: 'white',\n      padding: '25px 20px 40px 20px'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"table\", {\n    style: {\n      msoTableLspace: '0pt',\n      msoTableRspace: '0pt',\n      borderCollapse: 'collapse',\n      borderSpacing: '0px',\n      width: '100%'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n    style: {\n      width: '50%',\n      alignItems: 'center'\n    }\n  }, \"Find inspiration\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"th\", {\n    style: {\n      width: '50%'\n    }\n  }, \"Get the app\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '10px 0px',\n      display: 'grid',\n      justifyContent: 'center',\n      gap: '0px 10px',\n      gridAutoFlow: 'column'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"instagram\",\n    style: {\n      background: 'linear-gradient(115deg, #f9ce34, #ee2a7b, #6228d7)',\n      borderRadius: '50%',\n      width: '30px',\n      height: '30px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://img.icons8.com/sf-regular/48/000000/instagram-new.png\",\n    style: {\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      filter: 'invert(100%)',\n      width: '80%',\n      height: '80%'\n    },\n    alt: \"\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"twitter\",\n    style: {\n      background: '#1da1f2',\n      borderRadius: '50%',\n      boxSizing: 'border-box',\n      height: '30px',\n      width: '30px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8twitter50.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      filter: 'invert(100%)',\n      width: '60%',\n      height: '60%'\n    },\n    alt: \"\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8pinterest48.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '30px',\n      height: '30px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    style: {\n      background: '#eee',\n      borderRadius: '50%',\n      width: '30px',\n      height: '30px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8tiktok48.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '80%',\n      height: '80%'\n    },\n    alt: \"\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/icons8facebook48_1.png\",\n    alt: \"facebook-new\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '30px',\n      height: '30px'\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      gap: '5px',\n      justifyContent: 'center'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/5a902dbf7f96951c82922875_prA.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '100px',\n      height: '28px'\n    },\n    alt: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: \"https://fbtskzl.stripocdn.email/content/guids/CABINET_b2c54c9f4f7a6a37ee9f194178460c55773a1f517775c0801028dbe0265558ca/images/5a902db97f96951c82922874_1_XT1.png\",\n    style: {\n      display: 'block',\n      border: '0',\n      outline: 'none',\n      textDecoration: 'none',\n      MsInterpolationMode: 'bicubic',\n      width: '100px',\n      height: '28px'\n    },\n    alt: \"\"\n  })))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", {\n    style: {\n      padding: '0',\n      margin: '0',\n      paddingLeft: '20px',\n      paddingRight: '20px',\n      paddingBottom: '30px',\n      backgroundColor: '#2d2d2d'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n    style: {\n      margin: '0',\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      fontFamily: \"arial, 'helvetica neue', helvetica, sans-serif\",\n      lineHeight: '22px',\n      color: '#efefef',\n      fontSize: '11px'\n    }\n  }, \"*GLAMO has estimated this date on the basis of your expected delivery date and the refunds window applicable to your jurisdiction. Please see website\", ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n    href: \"\",\n    target: \"_blank\",\n    style: {\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      textDecoration: 'none',\n      color: '#efefef',\n      fontSize: '11px'\n    }\n  }, \"T&Cs\"), ' ', \"for more details on returns and refunds, and for the refunds window applicable to your jurisdiction. This inbox is not attended, so please don\\u2019t reply to this email. This is a service email. You will receive these no matter what your marketing communication preferences are. We\\u2019ll always keep your data safe and secure.\", ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n    href: \"\",\n    target: \"_blank\",\n    style: {\n      WebkitTextSizeAdjust: 'none',\n      MsTextSizeAdjust: 'none',\n      msoLineHeightRule: 'exactly',\n      textDecoration: 'none',\n      color: '#efefef',\n      fontSize: '11px'\n    }\n  }, \"Click here\"), ' ', \"to know why we need it and how we use it.\\xA0\"))))))))))))))))))));\n}\n\n//# sourceURL=webpack://server/./React_Email/test.jsx?");

/***/ }),

/***/ "./Routes/adminRoute.js":
/*!******************************!*\
  !*** ./Routes/adminRoute.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_adminController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/adminController.js */ \"./Controllers/adminController.js\");\n/* harmony import */ var _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Controllers/productController.js */ \"./Controllers/productController.js\");\n/* harmony import */ var _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Controllers/userController.js */ \"./Controllers/userController.js\");\n/* harmony import */ var _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Controllers/deliveryProfileController.js */ \"./Controllers/deliveryProfileController.js\");\n\n\n\n\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/product/:id', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.get_single_admin_product);\nrouter.get('/product/:id/variation', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.getVariations);\nrouter.get('/count', _Controllers_adminController_js__WEBPACK_IMPORTED_MODULE_1__.count_all);\nrouter[\"delete\"]('/delete/user/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__.delete_user);\nrouter[\"delete\"]('/delete/product/:id', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.delete_product);\nrouter[\"delete\"]('/delete/product/many/:id', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.delete_many_product);\nrouter.post('/delivery/create', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__.create_delivery_profile);\nrouter.get('/delivery/all', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__.get_all_delivery_profile);\nrouter[\"delete\"]('/delete/delivery/:id', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__.delete_single_delivery_profile);\nrouter.get('/delivery/:id', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__.get_single_delivery_profile);\nrouter.put('/delivery/update/:id', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_4__.update_single_delivery_profile);\nrouter.post('/user/create', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__.create_user);\nrouter.post('/user/update/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__.update_single);\nrouter.get('/user/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__.get_single_user);\nrouter[\"delete\"]('/delete/user/many/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_3__.delete_many_user);\nrouter.post('/product/create', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.create_new_product);\nrouter.post('/login', _Controllers_adminController_js__WEBPACK_IMPORTED_MODULE_1__.adminLogin);\nrouter.put('/product/update/:id', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_2__.update_product);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/adminRoute.js?");

/***/ }),

/***/ "./Routes/categoryRoute.js":
/*!*********************************!*\
  !*** ./Routes/categoryRoute.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_categoryController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/categoryController.js */ \"./Controllers/categoryController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/', _Controllers_categoryController_js__WEBPACK_IMPORTED_MODULE_1__.get_all_category);\nrouter.get('/:name', _Controllers_categoryController_js__WEBPACK_IMPORTED_MODULE_1__.get_singleCategory);\nrouter.get('/:name/:gender', _Controllers_categoryController_js__WEBPACK_IMPORTED_MODULE_1__.query_category_products_by_gender);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/categoryRoute.js?");

/***/ }),

/***/ "./Routes/couponRoute.js":
/*!*******************************!*\
  !*** ./Routes/couponRoute.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_couponController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/couponController.js */ \"./Controllers/couponController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/', _Controllers_couponController_js__WEBPACK_IMPORTED_MODULE_1__.get_single_coupon);\nrouter[\"delete\"]('/delete/:id', _Controllers_couponController_js__WEBPACK_IMPORTED_MODULE_1__.delete_single_coupon);\nrouter.get('/all', _Controllers_couponController_js__WEBPACK_IMPORTED_MODULE_1__.get_all_coupons);\nrouter.post('/create', _Controllers_couponController_js__WEBPACK_IMPORTED_MODULE_1__.create_coupon);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/couponRoute.js?");

/***/ }),

/***/ "./Routes/deliveryRoute.js":
/*!*********************************!*\
  !*** ./Routes/deliveryRoute.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/deliveryProfileController.js */ \"./Controllers/deliveryProfileController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/many/:id', _Controllers_deliveryProfileController_js__WEBPACK_IMPORTED_MODULE_1__.get_many_delivery_profile);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/deliveryRoute.js?");

/***/ }),

/***/ "./Routes/giftCardRoute.js":
/*!*********************************!*\
  !*** ./Routes/giftCardRoute.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controllers/giftCardController.js */ \"./Controllers/giftCardController.js\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_1___default().Router();\nrouter.get('/', _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__.get_single_giftCard);\nrouter.post('/create', _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__.create_giftCard);\nrouter.get('/all', _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__.get_all_giftCard);\nrouter[\"delete\"]('/delete/all', _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__.delete_all);\nrouter[\"delete\"]('/delete/:id', _Controllers_giftCardController_js__WEBPACK_IMPORTED_MODULE_0__.delete_single);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/giftCardRoute.js?");

/***/ }),

/***/ "./Routes/orderRoute.js":
/*!******************************!*\
  !*** ./Routes/orderRoute.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_orderController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/orderController.js */ \"./Controllers/orderController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.post('/create', _Controllers_orderController_js__WEBPACK_IMPORTED_MODULE_1__.create_order);\nrouter.post('/create-payment-intent', _Controllers_orderController_js__WEBPACK_IMPORTED_MODULE_1__.createPaymentIntent);\nrouter.get('/:id', _Controllers_orderController_js__WEBPACK_IMPORTED_MODULE_1__.getOrderDetails);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/orderRoute.js?");

/***/ }),

/***/ "./Routes/productRoute.js":
/*!********************************!*\
  !*** ./Routes/productRoute.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/productController.js */ \"./Controllers/productController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_1__.get_all_products);\n\n// router.get('/category', get_all_by_category);\n\nrouter.get('/:id', _Controllers_productController_js__WEBPACK_IMPORTED_MODULE_1__.get_single_product);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/productRoute.js?");

/***/ }),

/***/ "./Routes/searchRoute.js":
/*!*******************************!*\
  !*** ./Routes/searchRoute.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_searchController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/searchController.js */ \"./Controllers/searchController.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.get('/', _Controllers_searchController_js__WEBPACK_IMPORTED_MODULE_1__.search_product);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/searchRoute.js?");

/***/ }),

/***/ "./Routes/userRoute.js":
/*!*****************************!*\
  !*** ./Routes/userRoute.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controllers/userController.js */ \"./Controllers/userController.js\");\n/* harmony import */ var passport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! passport */ \"passport\");\n/* harmony import */ var passport__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(passport__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_2___default().Router();\nrouter.get('/all', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.get_all_users);\nrouter.get('/dummy', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.dummy_data);\nrouter.post('/create', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.create_user);\nrouter.post('/login', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.loginUser);\nrouter.get('/logout', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.logoutUser);\nrouter.post('/signup', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.signUp_user);\nrouter.get('/check', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.checkUser);\nrouter.get('/userData', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.getAllUserData);\nrouter.post('/address/add', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.addUserAddress);\nrouter.put('/address/edit/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.editAddress);\nrouter[\"delete\"]('/address/delete/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.deleteAddress);\nrouter.put('/address/changeDefault', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.updateDefaultAddress);\nrouter.put('/changedetails', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.changeDetails);\nrouter.put('/changepreferences', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.updatePreferences);\nrouter.get('/payment-method/card/save', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.saveCustomerCard);\nrouter.get('/payment-method/paypal', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.setUpPaypal);\nrouter.get('/payment-method/klarna', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.setUpKlarna);\nrouter.post('/payment-method/add', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.addPaymentMethod);\nrouter.post('/payment-method/changedefault/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.changeDefaultMethod);\nrouter[\"delete\"]('/payment-method/delete/:id', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.deletePaymentMethod);\nrouter.get('/payment-method/all', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.getPaymentMethods);\nrouter.get('/orders', _Controllers_userController_js__WEBPACK_IMPORTED_MODULE_0__.getOrders);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/userRoute.js?");

/***/ }),

/***/ "./Routes/webhookRoute.js":
/*!********************************!*\
  !*** ./Routes/webhookRoute.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Controllers_WebHooks_stripeWebhooks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Controllers/WebHooks/stripeWebhooks.js */ \"./Controllers/WebHooks/stripeWebhooks.js\");\n\n\nvar router = express__WEBPACK_IMPORTED_MODULE_0___default().Router();\nrouter.post('/', _Controllers_WebHooks_stripeWebhooks_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router);\n\n//# sourceURL=webpack://server/./Routes/webhookRoute.js?");

/***/ }),

/***/ "./Upload/fileFilter.js":
/*!******************************!*\
  !*** ./Upload/fileFilter.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_0__);\n\nvar fileFilter = function fileFilter(req, file, cb) {\n  if (file.mimetype.split('/')[0] === 'image') {\n    cb(null, true);\n  } else {\n    cb(new (multer__WEBPACK_IMPORTED_MODULE_0___default().MulterError)('LIMIT_UNEXPECTED_FILE'), false);\n  }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fileFilter);\n\n//# sourceURL=webpack://server/./Upload/fileFilter.js?");

/***/ }),

/***/ "./Upload/sharpify.js":
/*!****************************!*\
  !*** ./Upload/sharpify.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\nvar sharpify = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(file, type) {\n    var image, meta, format, config, compressImage, obj;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          image = sharp__WEBPACK_IMPORTED_MODULE_1___default()(file.buffer);\n          _context.next = 3;\n          return image.metadata();\n        case 3:\n          meta = _context.sent;\n          format = meta.format;\n          config = {\n            jpeg: {\n              quality: 80\n            },\n            webp: {\n              quality: 100,\n              lossless: true,\n              effort: 6\n            },\n            png: {\n              compressionLevel: 8\n            }\n          }; // .resize(100)\n          // .png({ quality: 80, force: true })\n          // .webp({ quality: 80, force: false })\n          // .jpeg({ quality: 80, force: false })\n          // .toBuffer();\n          compressImage = image.png({\n            quality: 90,\n            force: true\n          });\n          type === 'profile' && compressImage.resize(200);\n          _context.next = 10;\n          return compressImage.toBuffer();\n        case 10:\n          _context.t0 = _context.sent;\n          _context.t1 = file.mimetype;\n          _context.t2 = file.originalname;\n          obj = {\n            buffer: _context.t0,\n            format: 'png',\n            type: _context.t1,\n            originalname: _context.t2\n          };\n          return _context.abrupt(\"return\", obj);\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function sharpify(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sharpify);\n\n//# sourceURL=webpack://server/./Upload/sharpify.js?");

/***/ }),

/***/ "./app.js":
/*!****************!*\
  !*** ./app.js ***!
  \****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-session */ \"express-session\");\n/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_session__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var connect_mongo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! connect-mongo */ \"connect-mongo\");\n/* harmony import */ var connect_mongo__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(connect_mongo__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var morgan__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! morgan */ \"morgan\");\n/* harmony import */ var morgan__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(morgan__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _Routes_productRoute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Routes/productRoute.js */ \"./Routes/productRoute.js\");\n/* harmony import */ var _Routes_categoryRoute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Routes/categoryRoute.js */ \"./Routes/categoryRoute.js\");\n/* harmony import */ var _Routes_couponRoute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Routes/couponRoute.js */ \"./Routes/couponRoute.js\");\n/* harmony import */ var _Routes_searchRoute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Routes/searchRoute.js */ \"./Routes/searchRoute.js\");\n/* harmony import */ var _Routes_giftCardRoute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Routes/giftCardRoute.js */ \"./Routes/giftCardRoute.js\");\n/* harmony import */ var _Routes_webhookRoute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Routes/webhookRoute.js */ \"./Routes/webhookRoute.js\");\n/* harmony import */ var _Routes_userRoute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Routes/userRoute.js */ \"./Routes/userRoute.js\");\n/* harmony import */ var _Routes_adminRoute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Routes/adminRoute.js */ \"./Routes/adminRoute.js\");\n/* harmony import */ var _Routes_orderRoute_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Routes/orderRoute.js */ \"./Routes/orderRoute.js\");\n/* harmony import */ var _Routes_deliveryRoute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Routes/deliveryRoute.js */ \"./Routes/deliveryRoute.js\");\n/* harmony import */ var _errorHandler_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./errorHandler.js */ \"./errorHandler.js\");\n/* harmony import */ var _utils_passport_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/passport.js */ \"./utils/passport.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _utils_nodemailer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/nodemailer.js */ \"./utils/nodemailer.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _react_email_render__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @react-email/render */ \"@react-email/render\");\n/* harmony import */ var _react_email_render__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_react_email_render__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _React_Email_test_jsx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./React Email/test.jsx */ \"./React Email/test.jsx\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n/* eslint-disable no-console */\n/* eslint-disable import/no-extraneous-dependencies */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _process$env = process.env,\n  DBNAME = _process$env.DBNAME,\n  URL = _process$env.URL,\n  SECRET = _process$env.SECRET;\nvar PORT = 3000;\nvar db = function db() {\n  mongoose__WEBPACK_IMPORTED_MODULE_5___default().connect(URL, {\n    dbName: DBNAME\n  }).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // connection.sessions.drop();\n          console.log('successfully database Connection');\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })))[\"catch\"](function (error) {\n    console.log(\"error: \".concat(error));\n  });\n};\ndb();\nvar app = express__WEBPACK_IMPORTED_MODULE_0___default()();\n// app.use(cors());\napp.use(cors__WEBPACK_IMPORTED_MODULE_4___default()({\n  origin: true,\n  credentials: true\n}));\napp.use(express_session__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: SECRET,\n  resave: false,\n  saveUninitialized: true,\n  store: connect_mongo__WEBPACK_IMPORTED_MODULE_2___default().create({\n    mongoUrl: URL,\n    dbName: DBNAME,\n    collectionName: 'sessions'\n  }),\n  cookie: {\n    maxAge: 1000 * 60 * 60 * 24,\n    secure: false,\n    httpOnly: false\n  } // 1 day\n}));\napp.use(_utils_passport_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"].initialize());\napp.use(_utils_passport_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"].session());\napp.use(morgan__WEBPACK_IMPORTED_MODULE_3___default()('dev'));\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default().json());\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default().urlencoded({\n  extended: true\n}));\napp.get('/api/server-status', function (req, res) {\n  res.send('OK');\n});\napp.use('/api/product', _Routes_productRoute_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\napp.use('/api/coupon', _Routes_couponRoute_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]);\napp.use('/api/category', _Routes_categoryRoute_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\napp.use('/api/search', _Routes_searchRoute_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\napp.use('/api/giftcard', _Routes_giftCardRoute_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\napp.use('/api/user', _Routes_userRoute_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]);\napp.use('/api/admin', _Routes_adminRoute_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\napp.use('/api/order', _Routes_orderRoute_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]);\napp.use('/api/delivery', _Routes_deliveryRoute_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]);\napp.use('/api/webhook', _Routes_webhookRoute_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\napp.get('/api/test', express_async_handler__WEBPACK_IMPORTED_MODULE_21___default()( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _process$env2, SMTP_USER, SMTP_PASSWORD, SMTP_HOST, SMTP_PORT, props, emailHtml, mailOptions;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _process$env2 = process.env, SMTP_USER = _process$env2.SMTP_USER, SMTP_PASSWORD = _process$env2.SMTP_PASSWORD, SMTP_HOST = _process$env2.SMTP_HOST, SMTP_PORT = _process$env2.SMTP_PORT;\n          props = {\n            firstName: 'kevin',\n            orderNumber: '882411829',\n            orderDate: 'Tuesday 28 November 2023'\n          };\n          emailHtml = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_24__.render)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_23__.createElement(_React_Email_test_jsx__WEBPACK_IMPORTED_MODULE_25__[\"default\"], props));\n          mailOptions = {\n            from: 'kevinjean321@gmail.com',\n            to: 'hotboyroyal@gmail.com',\n            subject: 'test email',\n            html: emailHtml\n            // template: 'New Template',\n            // context: {\n            //   firstName: 'Adam',\n            // },\n          }; // const sendEmail = await transporter.sendMail(mailOptions);\n\n          res.status(200).send(emailHtml);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x, _x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}()));\napp.use(_errorHandler_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]);\nvar httpOptions = {\n  key: fs__WEBPACK_IMPORTED_MODULE_20___default().readFileSync('./mkcert/key.pem'),\n  cert: fs__WEBPACK_IMPORTED_MODULE_20___default().readFileSync('./mkcert/cert.pem'),\n  requestCert: false,\n  rejectUnauthorized: \"development\" === 'production'\n};\nconsole.log({\n  NODE_ENV: \"development\",\n  bool: \"development\" === 'production'\n});\nvar sslServer = https__WEBPACK_IMPORTED_MODULE_19___default().createServer(httpOptions, app);\nsslServer.listen(PORT, function () {\n  console.log(\"Secure server\\uD83D\\uDD11 listening on Port: \".concat(PORT));\n});\n\n//# sourceURL=webpack://server/./app.js?");

/***/ }),

/***/ "./errorHandler.js":
/*!*************************!*\
  !*** ./errorHandler.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ errorHandler)\n/* harmony export */ });\n/* harmony import */ var _s3Service_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./s3Service.js */ \"./s3Service.js\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar customValidationError = function customValidationError(error) {\n  var values = Object.values(error.errors).map(function (err) {\n    return err.message;\n  });\n  // return Object.values(error).map(err => err.message)\n  console.log(values);\n  return values;\n};\nfunction errorHandler(_x, _x2, _x3, _x4) {\n  return _errorHandler.apply(this, arguments);\n}\nfunction _errorHandler() {\n  _errorHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, req, res, next) {\n    var key;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          error.statusCode = error.statusCode || 500;\n          error.status = error.status || 'error';\n          if (!(error.name === 'CastError' && error.kind === 'ObjectId')) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            success: false,\n            msg: 'Invalid Id format'\n          }));\n        case 4:\n          if (error.name === 'MongoServerError' && error.code == 11000) {\n            key = Object.values(error.keyValue);\n            error.message = \"\".concat(key[0], \" already exists. Please try A different \").concat(Object.keys(error.keyValue)[0], \".\");\n          }\n          if (error.name === 'ValidationError') {\n            error.message = customValidationError(error);\n          }\n          console.log(error);\n          if (error.name == 'MulterError') {\n            error.message = 'Error occurs while adding or deleting images. Please contact Administrator for asssistance.';\n          }\n          res.status(error.statusCode).json({\n            // if js an array is ann object\n            msg: _typeof(error.message) === 'object' ? error.message : [error.message],\n            success: false\n          });\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _errorHandler.apply(this, arguments);\n}\n\n//# sourceURL=webpack://server/./errorHandler.js?");

/***/ }),

/***/ "./middleware/checkAuthenticated.js":
/*!******************************************!*\
  !*** ./middleware/checkAuthenticated.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAuthenticated: () => (/* binding */ checkAuthenticated)\n/* harmony export */ });\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-async-handler */ \"express-async-handler\");\n/* harmony import */ var express_async_handler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_async_handler__WEBPACK_IMPORTED_MODULE_0__);\n\nvar checkAuthenticated = express_async_handler__WEBPACK_IMPORTED_MODULE_0___default()(function (req, res, next) {\n  if (req.isAuthenticated()) {\n    return next();\n  }\n  // req.session.destroy();\n  return res.status(401).clearCookie('connect.sid').send({\n    msg: 'User is not Authenticated'\n  });\n});\n\n//# sourceURL=webpack://server/./middleware/checkAuthenticated.js?");

/***/ }),

/***/ "./s3Service.js":
/*!**********************!*\
  !*** ./s3Service.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   s3Delete: () => (/* binding */ s3Delete),\n/* harmony export */   s3Get: () => (/* binding */ s3Get)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar s3Upload = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(files, isProfile) {\n    var folderId,\n      counter,\n      params,\n      s3Client,\n      results,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          folderId = _args.length > 2 && _args[2] !== undefined ? _args[2] : (0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)();\n          // console.log(\"file:\", file)\n          counter = 0;\n          params = files.map(function (file) {\n            var result = {\n              Bucket: process.env.AWS_BUCKET_NAME,\n              Key: isProfile ? \"user/\".concat(file.id, \".\").concat(file.format) : \"products/\".concat(folderId, \"/\").concat(file.fileName, \".\").concat(file.format),\n              Body: file.buffer,\n              ContentDisposition: 'inline',\n              ContentType: 'image/png',\n              ResponseCacheControl: 'no-cache',\n              CacheControl: 'no-cache'\n            };\n            counter += 1;\n            return result;\n          });\n          s3Client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client(); //   const result = await s3Client.send(command);\n          _context.next = 6;\n          return Promise.all(params.map(function (param) {\n            var command = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.PutObjectCommand(param);\n            return s3Client.send(command);\n          }));\n        case 6:\n          results = _context.sent;\n          return _context.abrupt(\"return\", results);\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function s3Upload(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar s3Delete = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(prefix, id) {\n    var client, params, listCommand, response, listParams, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client({});\n          params = {\n            Bucket: process.env.AWS_BUCKET_NAME,\n            Prefix: \"\".concat(prefix, \"/\").concat(id)\n          };\n          listCommand = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.ListObjectsV2Command(params);\n          _context2.next = 5;\n          return client.send(listCommand);\n        case 5:\n          response = _context2.sent;\n          if (response.Contents) {\n            _context2.next = 8;\n            break;\n          }\n          return _context2.abrupt(\"return\", 'empty response Content or Keys');\n        case 8:\n          listParams = response.Contents.map(function (_ref3) {\n            var Key = _ref3.Key;\n            return {\n              Bucket: process.env.AWS_BUCKET_NAME,\n              Key: Key\n            };\n          });\n          _context2.next = 11;\n          return Promise.all(listParams.map(function (param) {\n            var deleteCommand = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.DeleteObjectCommand(param);\n            return client.send(deleteCommand);\n          }));\n        case 11:\n          result = _context2.sent;\n          return _context2.abrupt(\"return\", result);\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function s3Delete(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar s3Get = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id) {\n    var client, params, listCommand, response, keys, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client();\n          params = {\n            Bucket: process.env.AWS_BUCKET_NAME,\n            Prefix: \"products/\".concat(id)\n          };\n          listCommand = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.ListObjectsV2Command(params);\n          _context3.next = 5;\n          return client.send(listCommand);\n        case 5:\n          response = _context3.sent;\n          if (!(!(response !== null && response !== void 0 && response.Contents) > 0)) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\");\n        case 8:\n          keys = response.Contents.map(function (item) {\n            return item.Key;\n          });\n          _context3.next = 11;\n          return Promise.all(keys.map(function (item) {\n            var newParams = {\n              Bucket: process.env.AWS_BUCKET_NAME,\n              Key: item\n            };\n            var getCommand = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.GetObjectCommand(newParams);\n            var getResponse = client.send(getCommand);\n            return getResponse;\n          }));\n        case 11:\n          result = _context3.sent;\n          console.log(result);\n          return _context3.abrupt(\"return\", result);\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function s3Get(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (s3Upload);\n\n//# sourceURL=webpack://server/./s3Service.js?");

/***/ }),

/***/ "./utils/addressValidator.js":
/*!***********************************!*\
  !*** ./utils/addressValidator.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_0__);\n\nvar addressValidator = [(0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('firstName', 'Please enter a name').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('lastName', 'Please enter a name').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('mobile', 'Please enter a mobile number').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('address_1', 'Please enter a address').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('city', 'Please enter a city').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('postCode', 'Please enter a postcode').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('county', 'Please enter a county').trim().escape().notEmpty()];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (addressValidator);\n\n//# sourceURL=webpack://server/./utils/addressValidator.js?");

/***/ }),

/***/ "./utils/errorRegenerator.js":
/*!***********************************!*\
  !*** ./utils/errorRegenerator.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ errorRegenerator)\n/* harmony export */ });\nfunction errorRegenerator(result) {\n  var newResult = {};\n  result.errors.forEach(function (_ref) {\n    var path = _ref.path,\n      msg = _ref.msg;\n    newResult[path] = msg;\n  });\n  return newResult;\n}\n\n//# sourceURL=webpack://server/./utils/errorRegenerator.js?");

/***/ }),

/***/ "./utils/generateOrderNumber.js":
/*!**************************************!*\
  !*** ./utils/generateOrderNumber.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ generateOrderNumber)\n/* harmony export */ });\n/* harmony import */ var randomstring__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! randomstring */ \"randomstring\");\n/* harmony import */ var randomstring__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(randomstring__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction generateOrderNumber() {\n  var orderNumberString = randomstring__WEBPACK_IMPORTED_MODULE_0___default().generate({\n    length: 12,\n    charset: 'alphanumeric',\n    capitalization: 'uppercase'\n  });\n  return orderNumberString;\n}\n\n//# sourceURL=webpack://server/./utils/generateOrderNumber.js?");

/***/ }),

/***/ "./utils/nodemailer.js":
/*!*****************************!*\
  !*** ./utils/nodemailer.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handlebarOptions: () => (/* binding */ handlebarOptions)\n/* harmony export */ });\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv/config */ \"dotenv/config\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var nodemailer_express_handlebars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nodemailer-express-handlebars */ \"nodemailer-express-handlebars\");\n/* harmony import */ var nodemailer_express_handlebars__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(nodemailer_express_handlebars__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar _process$env = process.env,\n  SMTP_USER = _process$env.SMTP_USER,\n  SMTP_PASSWORD = _process$env.SMTP_PASSWORD,\n  SMTP_HOST = _process$env.SMTP_HOST,\n  SMTP_PORT = _process$env.SMTP_PORT;\nvar transporter = nodemailer__WEBPACK_IMPORTED_MODULE_1___default().createTransport({\n  host: SMTP_HOST,\n  port: SMTP_PORT,\n  //   secure: true,\n  auth: {\n    user: SMTP_USER,\n    pass: SMTP_PASSWORD\n  }\n});\nvar handlebarOptions = {\n  viewEngine: {\n    extName: '.handlebars',\n    partialsDir: path__WEBPACK_IMPORTED_MODULE_3___default().resolve('./Email Html'),\n    defaultLayout: false\n  },\n  viewPath: path__WEBPACK_IMPORTED_MODULE_3___default().resolve('./Email Html'),\n  extName: '.handlebars'\n};\n\n// transporter.use('compile', hbs(handlebarOptions));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (transporter);\n\n//# sourceURL=webpack://server/./utils/nodemailer.js?");

/***/ }),

/***/ "./utils/passport.js":
/*!***************************!*\
  !*** ./utils/passport.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var passport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! passport */ \"passport\");\n/* harmony import */ var passport__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(passport__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var passport_local__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! passport-local */ \"passport-local\");\n/* harmony import */ var passport_local__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(passport_local__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Models_user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Models/user.js */ \"./Models/user.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar verifyCallback = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(email, password, cb) {\n    var findUser, match;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email: email\n          });\n        case 3:\n          findUser = _context.sent;\n          if (findUser) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", cb(null, false));\n        case 6:\n          _context.next = 8;\n          return bcryptjs__WEBPACK_IMPORTED_MODULE_3___default().compare(password, findUser.password);\n        case 8:\n          match = _context.sent;\n          if (match) {\n            _context.next = 11;\n            break;\n          }\n          return _context.abrupt(\"return\", cb(null, false));\n        case 11:\n          if (!match) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", cb(null, findUser));\n        case 13:\n          _context.next = 19;\n          break;\n        case 15:\n          _context.prev = 15;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('error at passport: ', _context.t0);\n          return _context.abrupt(\"return\", cb(_context.t0));\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 15]]);\n  }));\n  return function verifyCallback(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar verificationFields = {\n  usernameField: 'email',\n  passwordField: 'password'\n};\nvar strategy = new (passport_local__WEBPACK_IMPORTED_MODULE_1___default())(verificationFields, verifyCallback);\npassport__WEBPACK_IMPORTED_MODULE_0___default().serializeUser(function (user, cb) {\n  return cb(null, user.id);\n});\npassport__WEBPACK_IMPORTED_MODULE_0___default().deserializeUser( /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userId, cb) {\n    var findUser, newResult;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _Models_user_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(userId, {\n            password: 0,\n            dob: 0,\n            address: 0,\n            __v: 0\n          });\n        case 3:\n          findUser = _context2.sent;\n          newResult = findUser.toObject({\n            virtuals: false\n          });\n          delete newResult._id;\n          return _context2.abrupt(\"return\", cb(null, newResult));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", cb(_context2.t0));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n  return function (_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}());\npassport__WEBPACK_IMPORTED_MODULE_0___default().use(strategy);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((passport__WEBPACK_IMPORTED_MODULE_0___default()));\n\n//# sourceURL=webpack://server/./utils/passport.js?");

/***/ }),

/***/ "./utils/productValidator.js":
/*!***********************************!*\
  !*** ./utils/productValidator.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-validator */ \"express-validator\");\n/* harmony import */ var express_validator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_validator__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction customVariationValidator(_ref) {\n  var value = _ref.value,\n    minValue = _ref.minValue,\n    maxValue = _ref.maxValue,\n    msg = _ref.msg;\n  var parseValue = JSON.parse(value.replace(/&quot;/g, '\"'));\n  if (!parseValue.on) return true;\n  if (parseValue.on && !parseValue.value) return false;\n  if (parseValue.value < minValue || parseValue.value > maxValue) throw new Error(msg);\n  return true;\n}\nvar productValidator = [(0,express_validator__WEBPACK_IMPORTED_MODULE_0__.check)('files').custom(function (value, _ref2) {\n  var req = _ref2.req;\n  if (req.files.length < 1) {\n    throw new Error('Please add a photo.');\n  }\n  return true;\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('title', 'Please add a title.').trim().escape().notEmpty(), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('category', 'Please select from one of the categories.').trim().escape().notEmpty().custom(function (value) {\n  if (value === 'undefined') {\n    throw new Error();\n  }\n  return true;\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('gender', 'Please select from one of the genders.').trim().escape().notEmpty().custom(function (value) {\n  if (value === 'undefined') {\n    throw new Error();\n  }\n  return true;\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('price', 'Please enter a valid price.').trim().escape().custom(function (value) {\n  return customVariationValidator({\n    value: value,\n    minValue: 0.17,\n    maxValue: 42933.2,\n    msg: 'Price must be between 0.17 and 42,933.20.'\n  });\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('isAllInputValid', 'Please enter a value in all inputs.').custom(function (value) {\n  var parseValue = JSON.parse(value);\n\n  // if (value) return true;\n  // return false;\n  return parseValue;\n}), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('stock', 'Please enter a valid stock.').trim().escape().custom(function (value) {\n  return customVariationValidator({\n    value: value,\n    minValue: 0,\n    maxValue: 999,\n    msg: 'Quantity must be between 0 and 999.'\n  });\n}),\n// .notEmpty(),\n(0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('detail', 'Please add some details.').trim().escape().isArray({\n  min: 1\n}).custom( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(value) {\n    var everyValue;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          everyValue = value.every(function (item) {\n            return item === '\\n' || item === '';\n          });\n          if (!(everyValue === true)) {\n            _context.next = 3;\n            break;\n          }\n          throw new Error();\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}()), (0,express_validator__WEBPACK_IMPORTED_MODULE_0__.body)('delivery', 'Please add some delivery profiles.').trim().escape().isArray({\n  min: 1\n})];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (productValidator);\n\n//# sourceURL=webpack://server/./utils/productValidator.js?");

/***/ }),

/***/ "./utils/sortCOmbineVariations.js":
/*!****************************************!*\
  !*** ./utils/sortCOmbineVariations.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n/* eslint-disable no-restricted-syntax */\nfunction sortCombineVariation(options) {\n  var minPriceValue = Infinity;\n  console.log('im in here');\n  var variationObj = {};\n  var map = new Map();\n  var variation2Map = new Map();\n  var variation1 = {\n    array: []\n  };\n  var variation2 = {\n    array: []\n  };\n  var _iterator = _createForOfIteratorHelper(options),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      minPriceValue = Math.min(value.price, minPriceValue);\n      if (!variation2Map.has(value.variation2)) {\n        var newObj = {\n          variation: value.variation2,\n          id: key\n        };\n        variation2.array.push(newObj);\n        variation2Map.set(value.variation2, newObj);\n      }\n      if (!map.has(value.variation)) {\n        variation1.array.push({\n          variation: value.variation,\n          id: key\n        });\n        var newVariationObj = _defineProperty({}, value.variation2, {\n          id: value.id,\n          stock: value.stock,\n          price: value.price,\n          visible: value.visible\n        });\n        variationObj[value.variation] = newVariationObj;\n        map.set(value.variation, newVariationObj);\n      } else {\n        var getItemFromMap = map.get(value.variation);\n        var _newVariationObj2 = _defineProperty({}, value.variation2, {\n          id: value.id,\n          stock: value.stock,\n          price: value.price,\n          visible: value.visible\n        });\n        var updatedVariationObject = Object.assign(getItemFromMap, _newVariationObj2);\n        map.set(value.variation, updatedVariationObject);\n      }\n    }\n\n    //   newData.price.current = minPriceValue;\n\n    //   newData.combineVariation = variationObj;\n    //   newData.testObj = testObj;\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return {\n    variationObj: variationObj,\n    minPriceValue: minPriceValue,\n    variation1: variation1,\n    variation2: variation2\n  };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sortCombineVariation);\n\n//# sourceURL=webpack://server/./utils/sortCOmbineVariations.js?");

/***/ }),

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "@react-email/components":
/*!******************************************!*\
  !*** external "@react-email/components" ***!
  \******************************************/
/***/ ((module) => {

module.exports = require("@react-email/components");

/***/ }),

/***/ "@react-email/render":
/*!**************************************!*\
  !*** external "@react-email/render" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("@react-email/render");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "connect-mongo":
/*!********************************!*\
  !*** external "connect-mongo" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("connect-mongo");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("cors");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/***/ ((module) => {

module.exports = require("dayjs");

/***/ }),

/***/ "dayjs/plugin/relativeTime.js":
/*!***********************************************!*\
  !*** external "dayjs/plugin/relativeTime.js" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("dayjs/plugin/relativeTime.js");

/***/ }),

/***/ "dayjs/plugin/timezone.js":
/*!*******************************************!*\
  !*** external "dayjs/plugin/timezone.js" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("dayjs/plugin/timezone.js");

/***/ }),

/***/ "dayjs/plugin/utc.js":
/*!**************************************!*\
  !*** external "dayjs/plugin/utc.js" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("dayjs/plugin/utc.js");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "dotenv/config":
/*!********************************!*\
  !*** external "dotenv/config" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("dotenv/config");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "express-async-handler":
/*!****************************************!*\
  !*** external "express-async-handler" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("express-async-handler");

/***/ }),

/***/ "express-session":
/*!**********************************!*\
  !*** external "express-session" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("express-session");

/***/ }),

/***/ "express-validator":
/*!************************************!*\
  !*** external "express-validator" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("express-validator");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("lodash");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "morgan":
/*!*************************!*\
  !*** external "morgan" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("morgan");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "nodemailer-express-handlebars":
/*!************************************************!*\
  !*** external "nodemailer-express-handlebars" ***!
  \************************************************/
/***/ ((module) => {

module.exports = require("nodemailer-express-handlebars");

/***/ }),

/***/ "passport":
/*!***************************!*\
  !*** external "passport" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("passport");

/***/ }),

/***/ "passport-local":
/*!*********************************!*\
  !*** external "passport-local" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("passport-local");

/***/ }),

/***/ "randomstring":
/*!*******************************!*\
  !*** external "randomstring" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("randomstring");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ }),

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stripe");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("uuid");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./app.js");
/******/ 	
/******/ })()
;